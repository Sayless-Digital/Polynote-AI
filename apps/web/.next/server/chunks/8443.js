"use strict";exports.id=8443,exports.ids=[8443],exports.modules={8443:(a,b,c)=>{c.d(b,{q:()=>H});var d=c(43413),e=c(43289),f=c(91944),g=f.Ik({error:f.Ik({code:f.ai().nullable(),message:f.Yj(),status:f.Yj()})}),h=(0,d.sl)({errorSchema:g,errorToMessage:a=>a.error.message}),i=f.Ik({outputDimensionality:f.ai().optional(),taskType:f.k5(["SEMANTIC_SIMILARITY","CLASSIFICATION","CLUSTERING","RETRIEVAL_DOCUMENT","RETRIEVAL_QUERY","QUESTION_ANSWERING","FACT_VERIFICATION","CODE_RETRIEVAL_QUERY"]).optional()}),j=class{constructor(a,b){this.specificationVersion="v2",this.maxEmbeddingsPerCall=2048,this.supportsParallelCalls=!0,this.modelId=a,this.config=b}get provider(){return this.config.provider}async doEmbed({values:a,headers:b,abortSignal:c,providerOptions:f}){let g=await (0,d.xI)({provider:"google",providerOptions:f,schema:i});if(a.length>this.maxEmbeddingsPerCall)throw new e.Ch({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:a});let j=(0,d.m2)(await (0,d.hd)(this.config.headers),b);if(1===a.length){let{responseHeaders:b,value:e,rawValue:f}=await (0,d.GU)({url:`${this.config.baseURL}/models/${this.modelId}:embedContent`,headers:j,body:{model:`models/${this.modelId}`,content:{parts:[{text:a[0]}]},outputDimensionality:null==g?void 0:g.outputDimensionality,taskType:null==g?void 0:g.taskType},failedResponseHandler:h,successfulResponseHandler:(0,d.cV)(l),abortSignal:c,fetch:this.config.fetch});return{embeddings:[e.embedding.values],usage:void 0,response:{headers:b,body:f}}}let{responseHeaders:m,value:n,rawValue:o}=await (0,d.GU)({url:`${this.config.baseURL}/models/${this.modelId}:batchEmbedContents`,headers:j,body:{requests:a.map(a=>({model:`models/${this.modelId}`,content:{role:"user",parts:[{text:a}]},outputDimensionality:null==g?void 0:g.outputDimensionality,taskType:null==g?void 0:g.taskType}))},failedResponseHandler:h,successfulResponseHandler:(0,d.cV)(k),abortSignal:c,fetch:this.config.fetch});return{embeddings:n.embeddings.map(a=>a.values),usage:void 0,response:{headers:m,body:o}}}},k=f.Ik({embeddings:f.YO(f.Ik({values:f.YO(f.ai())}))}),l=f.Ik({embedding:f.Ik({values:f.YO(f.ai())})});function m(a){var b;if(null==a||null!=(b=a)&&"object"==typeof b&&"object"===b.type&&(null==b.properties||0===Object.keys(b.properties).length)&&!b.additionalProperties)return;if("boolean"==typeof a)return{type:"boolean",properties:{}};let{type:c,description:d,required:e,properties:f,items:g,allOf:h,anyOf:i,oneOf:j,format:k,const:l,minLength:n,enum:o}=a,p={};if(d&&(p.description=d),e&&(p.required=e),k&&(p.format=k),void 0!==l&&(p.enum=[l]),c&&(Array.isArray(c)?c.includes("null")?(p.type=c.filter(a=>"null"!==a)[0],p.nullable=!0):p.type=c:"null"===c?p.type="null":p.type=c),void 0!==o&&(p.enum=o),null!=f&&(p.properties=Object.entries(f).reduce((a,[b,c])=>(a[b]=m(c),a),{})),g&&(p.items=Array.isArray(g)?g.map(m):m(g)),h&&(p.allOf=h.map(m)),i)if(i.some(a=>"object"==typeof a&&(null==a?void 0:a.type)==="null")){let a=i.filter(a=>"object"!=typeof a||(null==a?void 0:a.type)!=="null");if(1===a.length){let b=m(a[0]);"object"==typeof b&&(p.nullable=!0,Object.assign(p,b))}else p.anyOf=a.map(m),p.nullable=!0}else p.anyOf=i.map(m);return j&&(p.oneOf=j.map(m)),void 0!==n&&(p.minLength=n),p}function n(a){return a.includes("/")?a:`models/${a}`}var o=f.Ik({responseModalities:f.YO(f.k5(["TEXT","IMAGE"])).optional(),thinkingConfig:f.Ik({thinkingBudget:f.ai().optional(),includeThoughts:f.zM().optional()}).optional(),cachedContent:f.Yj().optional(),structuredOutputs:f.zM().optional(),safetySettings:f.YO(f.Ik({category:f.k5(["HARM_CATEGORY_UNSPECIFIED","HARM_CATEGORY_HATE_SPEECH","HARM_CATEGORY_DANGEROUS_CONTENT","HARM_CATEGORY_HARASSMENT","HARM_CATEGORY_SEXUALLY_EXPLICIT","HARM_CATEGORY_CIVIC_INTEGRITY"]),threshold:f.k5(["HARM_BLOCK_THRESHOLD_UNSPECIFIED","BLOCK_LOW_AND_ABOVE","BLOCK_MEDIUM_AND_ABOVE","BLOCK_ONLY_HIGH","BLOCK_NONE","OFF"])})).optional(),threshold:f.k5(["HARM_BLOCK_THRESHOLD_UNSPECIFIED","BLOCK_LOW_AND_ABOVE","BLOCK_MEDIUM_AND_ABOVE","BLOCK_ONLY_HIGH","BLOCK_NONE","OFF"]).optional(),audioTimestamp:f.zM().optional(),labels:f.g1(f.Yj(),f.Yj()).optional()});function p({finishReason:a,hasToolCalls:b}){switch(a){case"STOP":return b?"tool-calls":"stop";case"MAX_TOKENS":return"length";case"IMAGE_SAFETY":case"RECITATION":case"SAFETY":case"BLOCKLIST":case"PROHIBITED_CONTENT":case"SPII":return"content-filter";case"FINISH_REASON_UNSPECIFIED":case"OTHER":return"other";case"MALFORMED_FUNCTION_CALL":return"error";default:return"unknown"}}var q=f.Ik({web:f.Ik({uri:f.Yj(),title:f.Yj()}).nullish(),retrievedContext:f.Ik({uri:f.Yj(),title:f.Yj()}).nullish()}),r=f.Ik({webSearchQueries:f.YO(f.Yj()).nullish(),retrievalQueries:f.YO(f.Yj()).nullish(),searchEntryPoint:f.Ik({renderedContent:f.Yj()}).nullish(),groundingChunks:f.YO(q).nullish(),groundingSupports:f.YO(f.Ik({segment:f.Ik({startIndex:f.ai().nullish(),endIndex:f.ai().nullish(),text:f.Yj().nullish()}),segment_text:f.Yj().nullish(),groundingChunkIndices:f.YO(f.ai()).nullish(),supportChunkIndices:f.YO(f.ai()).nullish(),confidenceScores:f.YO(f.ai()).nullish(),confidenceScore:f.YO(f.ai()).nullish()})).nullish(),retrievalMetadata:f.KC([f.Ik({webDynamicRetrievalScore:f.ai()}),f.Ik({})]).nullish()}),s=(0,d.hL)({id:"google.google_search",name:"google_search",inputSchema:f.Ik({mode:f.k5(["MODE_DYNAMIC","MODE_UNSPECIFIED"]).default("MODE_UNSPECIFIED"),dynamicThreshold:f.ai().default(1)})}),t=f.Ik({retrievedUrl:f.Yj(),urlRetrievalStatus:f.Yj()}),u=f.Ik({urlMetadata:f.YO(t)}),v=(0,d.hL)({id:"google.url_context",name:"url_context",inputSchema:f.Ik({})}),w=class{constructor(a,b){var c;this.specificationVersion="v2",this.modelId=a,this.config=b,this.generateId=null!=(c=b.generateId)?c:d.$C}get provider(){return this.config.provider}get supportedUrls(){var a,b,c;return null!=(c=null==(b=(a=this.config).supportedUrls)?void 0:b.call(a))?c:{}}async getArgs({prompt:a,maxOutputTokens:b,temperature:c,topP:f,topK:g,frequencyPenalty:h,presencePenalty:i,stopSequences:j,responseFormat:k,seed:l,tools:n,toolChoice:p,providerOptions:q}){var r,s;let t=[],u=await (0,d.xI)({provider:"google",providerOptions:q,schema:o});(null==(r=null==u?void 0:u.thinkingConfig)?void 0:r.includeThoughts)!==!0||this.config.provider.startsWith("google.vertex.")||t.push({type:"other",message:`The 'includeThoughts' option is only supported with the Google Vertex provider and might not be supported or could behave unexpectedly with the current Google provider (${this.config.provider}).`});let v=this.modelId.toLowerCase().startsWith("gemma-"),{contents:w,systemInstruction:x}=function(a,b){var c;let f=[],g=[],h=!0,i=null!=(c=null==b?void 0:b.isGemmaModel)&&c;for(let{role:b,content:c}of a)switch(b){case"system":if(!h)throw new e.b8({functionality:"system messages are only supported at the beginning of the conversation"});f.push({text:c});break;case"user":{h=!1;let a=[];for(let b of c)switch(b.type){case"text":a.push({text:b.text});break;case"file":{let c="image/*"===b.mediaType?"image/jpeg":b.mediaType;a.push(b.data instanceof URL?{fileData:{mimeType:c,fileUri:b.data.toString()}}:{inlineData:{mimeType:c,data:(0,d.ej)(b.data)}})}}g.push({role:"user",parts:a});break}case"assistant":h=!1,g.push({role:"model",parts:c.map(a=>{var b,c,f,g,h,i;switch(a.type){case"text":return 0===a.text.length?void 0:{text:a.text,thoughtSignature:null==(c=null==(b=a.providerOptions)?void 0:b.google)?void 0:c.thoughtSignature};case"reasoning":return 0===a.text.length?void 0:{text:a.text,thought:!0,thoughtSignature:null==(g=null==(f=a.providerOptions)?void 0:f.google)?void 0:g.thoughtSignature};case"file":if("image/png"!==a.mediaType)throw new e.b8({functionality:"Only PNG images are supported in assistant messages"});if(a.data instanceof URL)throw new e.b8({functionality:"File data URLs in assistant messages are not supported"});return{inlineData:{mimeType:a.mediaType,data:(0,d.ej)(a.data)}};case"tool-call":return{functionCall:{name:a.toolName,args:a.input},thoughtSignature:null==(i=null==(h=a.providerOptions)?void 0:h.google)?void 0:i.thoughtSignature}}}).filter(a=>void 0!==a)});break;case"tool":h=!1,g.push({role:"user",parts:c.map(a=>({functionResponse:{name:a.toolName,response:{name:a.toolName,content:a.output.value}}}))})}if(i&&f.length>0&&g.length>0&&"user"===g[0].role){let a=f.map(a=>a.text).join("\n\n");g[0].parts.unshift({text:a+"\n\n"})}return{systemInstruction:f.length>0&&!i?{parts:f}:void 0,contents:g}}(a,{isGemmaModel:v}),{tools:y,toolConfig:z,toolWarnings:A}=function({tools:a,toolChoice:b,modelId:c}){var d;a=(null==a?void 0:a.length)?a:void 0;let f=[],g=c.includes("gemini-2"),h=c.includes("gemini-1.5-flash")&&!c.includes("-8b");if(null==a)return{tools:void 0,toolConfig:void 0,toolWarnings:f};let i=a.some(a=>"function"===a.type),j=a.some(a=>"provider-defined"===a.type);if(i&&j&&f.push({type:"unsupported-tool",tool:a.find(a=>"function"===a.type),details:"Cannot mix function tools with provider-defined tools in the same request. Please use either function tools or provider-defined tools, but not both."}),j){let b={};return a.filter(a=>"provider-defined"===a.type).forEach(a=>{switch(a.id){case"google.google_search":g?b.googleSearch={}:h?b.googleSearchRetrieval={dynamicRetrievalConfig:{mode:a.args.mode,dynamicThreshold:a.args.dynamicThreshold}}:b.googleSearchRetrieval={};break;case"google.url_context":g?b.urlContext={}:f.push({type:"unsupported-tool",tool:a,details:"The URL context tool is not supported with other Gemini models than Gemini 2."});break;case"google.code_execution":g?b.codeExecution={}:f.push({type:"unsupported-tool",tool:a,details:"The code execution tools is not supported with other Gemini models than Gemini 2."});break;default:f.push({type:"unsupported-tool",tool:a})}}),{tools:Object.keys(b).length>0?b:void 0,toolConfig:void 0,toolWarnings:f}}let k=[];for(let b of a)"function"===b.type?k.push({name:b.name,description:null!=(d=b.description)?d:"",parameters:m(b.inputSchema)}):f.push({type:"unsupported-tool",tool:b});if(null==b)return{tools:{functionDeclarations:k},toolConfig:void 0,toolWarnings:f};let l=b.type;switch(l){case"auto":return{tools:{functionDeclarations:k},toolConfig:{functionCallingConfig:{mode:"AUTO"}},toolWarnings:f};case"none":return{tools:{functionDeclarations:k},toolConfig:{functionCallingConfig:{mode:"NONE"}},toolWarnings:f};case"required":return{tools:{functionDeclarations:k},toolConfig:{functionCallingConfig:{mode:"ANY"}},toolWarnings:f};case"tool":return{tools:{functionDeclarations:k},toolConfig:{functionCallingConfig:{mode:"ANY",allowedFunctionNames:[b.toolName]}},toolWarnings:f};default:throw new e.b8({functionality:`tool choice type: ${l}`})}}({tools:n,toolChoice:p,modelId:this.modelId});return{args:{generationConfig:{maxOutputTokens:b,temperature:c,topK:g,topP:f,frequencyPenalty:h,presencePenalty:i,stopSequences:j,seed:l,responseMimeType:(null==k?void 0:k.type)==="json"?"application/json":void 0,responseSchema:(null==k?void 0:k.type)==="json"&&null!=k.schema&&(null==(s=null==u?void 0:u.structuredOutputs)||s)?m(k.schema):void 0,...(null==u?void 0:u.audioTimestamp)&&{audioTimestamp:u.audioTimestamp},responseModalities:null==u?void 0:u.responseModalities,thinkingConfig:null==u?void 0:u.thinkingConfig},contents:w,systemInstruction:v?void 0:x,safetySettings:null==u?void 0:u.safetySettings,tools:y,toolConfig:z,cachedContent:null==u?void 0:u.cachedContent,labels:null==u?void 0:u.labels},warnings:[...t,...A]}}async doGenerate(a){var b,c,e,f,g,i,j,k,l,m,o,q;let r,{args:s,warnings:t}=await this.getArgs(a),u=JSON.stringify(s),v=(0,d.m2)(await (0,d.hd)(this.config.headers),a.headers),{responseHeaders:w,value:y,rawValue:z}=await (0,d.GU)({url:`${this.config.baseURL}/${n(this.modelId)}:generateContent`,headers:v,body:s,failedResponseHandler:h,successfulResponseHandler:(0,d.cV)(B),abortSignal:a.abortSignal,fetch:this.config.fetch}),A=y.candidates[0],C=[],D=null!=(c=null==(b=A.content)?void 0:b.parts)?c:[],E=y.usageMetadata;for(let a of D)if("executableCode"in a&&(null==(e=a.executableCode)?void 0:e.code)){let b=this.config.generateId();r=b,C.push({type:"tool-call",toolCallId:b,toolName:"code_execution",input:JSON.stringify(a.executableCode),providerExecuted:!0})}else"codeExecutionResult"in a&&a.codeExecutionResult?(C.push({type:"tool-result",toolCallId:r,toolName:"code_execution",result:{outcome:a.codeExecutionResult.outcome,output:a.codeExecutionResult.output},providerExecuted:!0}),r=void 0):"text"in a&&null!=a.text&&a.text.length>0?C.push({type:!0===a.thought?"reasoning":"text",text:a.text,providerMetadata:a.thoughtSignature?{google:{thoughtSignature:a.thoughtSignature}}:void 0}):"functionCall"in a?C.push({type:"tool-call",toolCallId:this.config.generateId(),toolName:a.functionCall.name,input:JSON.stringify(a.functionCall.args),providerMetadata:a.thoughtSignature?{google:{thoughtSignature:a.thoughtSignature}}:void 0}):"inlineData"in a&&C.push({type:"file",data:a.inlineData.data,mediaType:a.inlineData.mimeType});for(let a of null!=(f=x({groundingMetadata:A.groundingMetadata,generateId:this.config.generateId}))?f:[])C.push(a);return{content:C,finishReason:p({finishReason:A.finishReason,hasToolCalls:C.some(a=>"tool-call"===a.type)}),usage:{inputTokens:null!=(g=null==E?void 0:E.promptTokenCount)?g:void 0,outputTokens:null!=(i=null==E?void 0:E.candidatesTokenCount)?i:void 0,totalTokens:null!=(j=null==E?void 0:E.totalTokenCount)?j:void 0,reasoningTokens:null!=(k=null==E?void 0:E.thoughtsTokenCount)?k:void 0,cachedInputTokens:null!=(l=null==E?void 0:E.cachedContentTokenCount)?l:void 0},warnings:t,providerMetadata:{google:{groundingMetadata:null!=(m=A.groundingMetadata)?m:null,urlContextMetadata:null!=(o=A.urlContextMetadata)?o:null,safetyRatings:null!=(q=A.safetyRatings)?q:null,usageMetadata:null!=E?E:null}},request:{body:u},response:{headers:w,body:z}}}async doStream(a){let b,c,{args:e,warnings:f}=await this.getArgs(a),g=JSON.stringify(e),i=(0,d.m2)(await (0,d.hd)(this.config.headers),a.headers),{responseHeaders:j,value:k}=await (0,d.GU)({url:`${this.config.baseURL}/${n(this.modelId)}:streamGenerateContent?alt=sse`,headers:i,body:e,failedResponseHandler:h,successfulResponseHandler:(0,d.Ds)(C),abortSignal:a.abortSignal,fetch:this.config.fetch}),l="unknown",m={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},o=this.config.generateId,q=!1,r=null,s=null,t=0,u=new Set;return{stream:k.pipeThrough(new TransformStream({start(a){a.enqueue({type:"stream-start",warnings:f})},transform(d,e){var f,g,h,i,j,k,n,v,w,y,z,A;if(a.includeRawChunks&&e.enqueue({type:"raw",rawValue:d.rawValue}),!d.success)return void e.enqueue({type:"error",error:d.error});let B=d.value,C=B.usageMetadata;null!=C&&(m.inputTokens=null!=(f=C.promptTokenCount)?f:void 0,m.outputTokens=null!=(g=C.candidatesTokenCount)?g:void 0,m.totalTokens=null!=(h=C.totalTokenCount)?h:void 0,m.reasoningTokens=null!=(i=C.thoughtsTokenCount)?i:void 0,m.cachedInputTokens=null!=(j=C.cachedContentTokenCount)?j:void 0);let D=null==(k=B.candidates)?void 0:k[0];if(null==D)return;let E=D.content,F=x({groundingMetadata:D.groundingMetadata,generateId:o});if(null!=F)for(let a of F)"url"!==a.sourceType||u.has(a.url)||(u.add(a.url),e.enqueue(a));if(null!=E){for(let a of null!=(n=E.parts)?n:[])if("executableCode"in a&&(null==(v=a.executableCode)?void 0:v.code)){let c=o();b=c,e.enqueue({type:"tool-call",toolCallId:c,toolName:"code_execution",input:JSON.stringify(a.executableCode),providerExecuted:!0}),q=!0}else if("codeExecutionResult"in a&&a.codeExecutionResult){let c=b;c&&(e.enqueue({type:"tool-result",toolCallId:c,toolName:"code_execution",result:{outcome:a.codeExecutionResult.outcome,output:a.codeExecutionResult.output},providerExecuted:!0}),b=void 0)}else"text"in a&&null!=a.text&&a.text.length>0&&(!0===a.thought?(null!==r&&(e.enqueue({type:"text-end",id:r}),r=null),null===s&&(s=String(t++),e.enqueue({type:"reasoning-start",id:s,providerMetadata:a.thoughtSignature?{google:{thoughtSignature:a.thoughtSignature}}:void 0})),e.enqueue({type:"reasoning-delta",id:s,delta:a.text,providerMetadata:a.thoughtSignature?{google:{thoughtSignature:a.thoughtSignature}}:void 0})):(null!==s&&(e.enqueue({type:"reasoning-end",id:s}),s=null),null===r&&(r=String(t++),e.enqueue({type:"text-start",id:r,providerMetadata:a.thoughtSignature?{google:{thoughtSignature:a.thoughtSignature}}:void 0})),e.enqueue({type:"text-delta",id:r,delta:a.text,providerMetadata:a.thoughtSignature?{google:{thoughtSignature:a.thoughtSignature}}:void 0})));let a=null==(A=E.parts)?void 0:A.filter(a=>"inlineData"in a);if(null!=a)for(let b of a)e.enqueue({type:"file",mediaType:b.inlineData.mimeType,data:b.inlineData.data});let c=function({parts:a,generateId:b}){let c=null==a?void 0:a.filter(a=>"functionCall"in a);return null==c||0===c.length?void 0:c.map(a=>({type:"tool-call",toolCallId:b(),toolName:a.functionCall.name,args:JSON.stringify(a.functionCall.args),providerMetadata:a.thoughtSignature?{google:{thoughtSignature:a.thoughtSignature}}:void 0}))}({parts:E.parts,generateId:o});if(null!=c)for(let a of c)e.enqueue({type:"tool-input-start",id:a.toolCallId,toolName:a.toolName,providerMetadata:a.providerMetadata}),e.enqueue({type:"tool-input-delta",id:a.toolCallId,delta:a.args,providerMetadata:a.providerMetadata}),e.enqueue({type:"tool-input-end",id:a.toolCallId,providerMetadata:a.providerMetadata}),e.enqueue({type:"tool-call",toolCallId:a.toolCallId,toolName:a.toolName,input:a.args,providerMetadata:a.providerMetadata}),q=!0}null!=D.finishReason&&(l=p({finishReason:D.finishReason,hasToolCalls:q}),c={google:{groundingMetadata:null!=(w=D.groundingMetadata)?w:null,urlContextMetadata:null!=(y=D.urlContextMetadata)?y:null,safetyRatings:null!=(z=D.safetyRatings)?z:null}},null!=C&&(c.google.usageMetadata=C))},flush(a){null!==r&&a.enqueue({type:"text-end",id:r}),null!==s&&a.enqueue({type:"reasoning-end",id:s}),a.enqueue({type:"finish",finishReason:l,usage:m,providerMetadata:c})}})),response:{headers:j},request:{body:g}}}};function x({groundingMetadata:a,generateId:b}){var c;return null==(c=null==a?void 0:a.groundingChunks)?void 0:c.filter(a=>null!=a.web).map(a=>({type:"source",sourceType:"url",id:b(),url:a.web.uri,title:a.web.title}))}var y=f.Ik({parts:f.YO(f.KC([f.Ik({functionCall:f.Ik({name:f.Yj(),args:f.L5()}),thoughtSignature:f.Yj().nullish()}),f.Ik({inlineData:f.Ik({mimeType:f.Yj(),data:f.Yj()})}),f.Ik({executableCode:f.Ik({language:f.Yj(),code:f.Yj()}).nullish(),codeExecutionResult:f.Ik({outcome:f.Yj(),output:f.Yj()}).nullish(),text:f.Yj().nullish(),thought:f.zM().nullish(),thoughtSignature:f.Yj().nullish()})])).nullish()}),z=f.Ik({category:f.Yj().nullish(),probability:f.Yj().nullish(),probabilityScore:f.ai().nullish(),severity:f.Yj().nullish(),severityScore:f.ai().nullish(),blocked:f.zM().nullish()}),A=f.Ik({cachedContentTokenCount:f.ai().nullish(),thoughtsTokenCount:f.ai().nullish(),promptTokenCount:f.ai().nullish(),candidatesTokenCount:f.ai().nullish(),totalTokenCount:f.ai().nullish()}),B=f.Ik({candidates:f.YO(f.Ik({content:y.nullish().or(f.Ik({}).strict()),finishReason:f.Yj().nullish(),safetyRatings:f.YO(z).nullish(),groundingMetadata:r.nullish(),urlContextMetadata:u.nullish()})),usageMetadata:A.nullish()}),C=f.Ik({candidates:f.YO(f.Ik({content:y.nullish(),finishReason:f.Yj().nullish(),safetyRatings:f.YO(z).nullish(),groundingMetadata:r.nullish(),urlContextMetadata:u.nullish()})).nullish(),usageMetadata:A.nullish()}),D={googleSearch:s,urlContext:v,codeExecution:(0,d.J2)({id:"google.code_execution",name:"code_execution",inputSchema:f.Ik({language:f.Yj().describe("The programming language of the code."),code:f.Yj().describe("The code to be executed.")}),outputSchema:f.Ik({outcome:f.Yj().describe('The outcome of the execution (e.g., "OUTCOME_OK").'),output:f.Yj().describe("The output from the code execution.")})})},E=class{constructor(a,b,c){this.modelId=a,this.settings=b,this.config=c,this.specificationVersion="v2"}get maxImagesPerCall(){var a;return null!=(a=this.settings.maxImagesPerCall)?a:4}get provider(){return this.config.provider}async doGenerate(a){var b,c,e;let{prompt:f,n:g=1,size:i="1024x1024",aspectRatio:j="1:1",seed:k,providerOptions:l,headers:m,abortSignal:n}=a,o=[];null!=i&&o.push({type:"unsupported-setting",setting:"size",details:"This model does not support the `size` option. Use `aspectRatio` instead."}),null!=k&&o.push({type:"unsupported-setting",setting:"seed",details:"This model does not support the `seed` option through this provider."});let p=await (0,d.xI)({provider:"google",providerOptions:l,schema:G}),q=null!=(e=null==(c=null==(b=this.config._internal)?void 0:b.currentDate)?void 0:c.call(b))?e:new Date,r={sampleCount:g};null!=j&&(r.aspectRatio=j),p&&Object.assign(r,p);let{responseHeaders:s,value:t}=await (0,d.GU)({url:`${this.config.baseURL}/models/${this.modelId}:predict`,headers:(0,d.m2)(await (0,d.hd)(this.config.headers),m),body:{instances:[{prompt:f}],parameters:r},failedResponseHandler:h,successfulResponseHandler:(0,d.cV)(F),abortSignal:n,fetch:this.config.fetch});return{images:t.predictions.map(a=>a.bytesBase64Encoded),warnings:null!=o?o:[],providerMetadata:{google:{images:t.predictions.map(a=>({}))}},response:{timestamp:q,modelId:this.modelId,headers:s}}}},F=f.Ik({predictions:f.YO(f.Ik({bytesBase64Encoded:f.Yj()})).default([])}),G=f.Ik({personGeneration:f.k5(["dont_allow","allow_adult","allow_all"]).nullish(),aspectRatio:f.k5(["1:1","3:4","4:3","9:16","16:9"]).nullish()}),H=function(a={}){var b;let c=null!=(b=(0,d.ae)(a.baseURL))?b:"https://generativelanguage.googleapis.com/v1beta",e=()=>({"x-goog-api-key":(0,d.WL)({apiKey:a.apiKey,environmentVariableName:"GOOGLE_GENERATIVE_AI_API_KEY",description:"Google Generative AI"}),...a.headers}),f=b=>{var f;return new w(b,{provider:"google.generative-ai",baseURL:c,headers:e,generateId:null!=(f=a.generateId)?f:d.$C,supportedUrls:()=>({"*":[RegExp(`^${c}/files/.*$`),RegExp("^https://(?:www\\.)?youtube\\.com/watch\\?v=[\\w-]+(?:&[\\w=&.-]*)?$"),RegExp("^https://youtu\\.be/[\\w-]+(?:\\?[\\w=&.-]*)?$")]}),fetch:a.fetch})},g=b=>new j(b,{provider:"google.generative-ai",baseURL:c,headers:e,fetch:a.fetch}),h=(b,d={})=>new E(b,d,{provider:"google.generative-ai",baseURL:c,headers:e,fetch:a.fetch}),i=function(a){if(new.target)throw Error("The Google Generative AI model function cannot be called with the new keyword.");return f(a)};return i.languageModel=f,i.chat=f,i.generativeAI=f,i.embedding=g,i.textEmbedding=g,i.textEmbeddingModel=g,i.image=h,i.imageModel=h,i.tools=D,i}()},13405:(a,b,c)=>{c.d(b,{D4:()=>o,Re:()=>q,lF:()=>n,X$:()=>p,qg:()=>j,EJ:()=>k,ex:()=>s,yR:()=>u,wy:()=>r,EM:()=>t,xL:()=>l,bp:()=>m});var d=c(83401),e=c(72667),f=c(73291),g=c(67860);let h=(a,b)=>{e.a$.init(a,b),a.name="ZodError",Object.defineProperties(a,{format:{value:b=>e.Wk(a,b)},flatten:{value:b=>e.JM(a,b)},addIssue:{value:b=>{a.issues.push(b),a.message=JSON.stringify(a.issues,g.k8,2)}},addIssues:{value:b=>{a.issues.push(...b),a.message=JSON.stringify(a.issues,g.k8,2)}},isEmpty:{get:()=>0===a.issues.length}})};f.xI("ZodError",h);let i=f.xI("ZodError",h,{Parent:Error}),j=d.Tj(i),k=d.Rb(i),l=d.Od(i),m=d.wG(i),n=d.Mv(i),o=d.e2(i),p=d.GW(i),q=d.or(i),r=d.rh(i),s=d.VS(i),t=d.v_(i),u=d.R3(i)},43289:(a,b,c)=>{c.d(b,{Ch:()=>Y,Di:()=>E,Kq:()=>Q,M3:()=>I,Tt:()=>z,b8:()=>af,bD:()=>r,cj:()=>ah,eM:()=>U,hL:()=>v,iM:()=>ab,k9:()=>ai,u1:()=>A,u6:()=>M});var d,e,f,g,h,i,j,k,l,m,n,o="vercel.ai.error",p=Symbol.for(o),q=class a extends Error{constructor({name:a,message:b,cause:c}){super(b),this[d]=!0,this.name=a,this.cause=c}static isInstance(b){return a.hasMarker(b,o)}static hasMarker(a,b){let c=Symbol.for(b);return null!=a&&"object"==typeof a&&c in a&&"boolean"==typeof a[c]&&!0===a[c]}};d=p;var r=q,s="AI_APICallError",t=`vercel.ai.error.${s}`,u=Symbol.for(t),v=class extends r{constructor({message:a,url:b,requestBodyValues:c,statusCode:d,responseHeaders:f,responseBody:g,cause:h,isRetryable:i=null!=d&&(408===d||409===d||429===d||d>=500),data:j}){super({name:s,message:a,cause:h}),this[e]=!0,this.url=b,this.requestBodyValues=c,this.statusCode=d,this.responseHeaders=f,this.responseBody=g,this.isRetryable=i,this.data=j}static isInstance(a){return r.hasMarker(a,t)}};e=u;var w="AI_EmptyResponseBodyError",x=`vercel.ai.error.${w}`,y=Symbol.for(x),z=class extends r{constructor({message:a="Empty response body"}={}){super({name:w,message:a}),this[f]=!0}static isInstance(a){return r.hasMarker(a,x)}};function A(a){return null==a?"unknown error":"string"==typeof a?a:a instanceof Error?a.message:JSON.stringify(a)}f=y;var B="AI_InvalidArgumentError",C=`vercel.ai.error.${B}`,D=Symbol.for(C),E=class extends r{constructor({message:a,cause:b,argument:c}){super({name:B,message:a,cause:b}),this[g]=!0,this.argument=c}static isInstance(a){return r.hasMarker(a,C)}};g=D;var F="AI_InvalidPromptError",G=`vercel.ai.error.${F}`,H=Symbol.for(G),I=class extends r{constructor({prompt:a,message:b,cause:c}){super({name:F,message:`Invalid prompt: ${b}`,cause:c}),this[h]=!0,this.prompt=a}static isInstance(a){return r.hasMarker(a,G)}};h=H,Symbol.for("vercel.ai.error.AI_InvalidResponseDataError");var J="AI_JSONParseError",K=`vercel.ai.error.${J}`,L=Symbol.for(K),M=class extends r{constructor({text:a,cause:b}){super({name:J,message:`JSON parsing failed: Text: ${a}.
Error message: ${A(b)}`,cause:b}),this[i]=!0,this.text=a}static isInstance(a){return r.hasMarker(a,K)}};i=L;var N="AI_LoadAPIKeyError",O=`vercel.ai.error.${N}`,P=Symbol.for(O),Q=class extends r{constructor({message:a}){super({name:N,message:a}),this[j]=!0}static isInstance(a){return r.hasMarker(a,O)}};j=P,Symbol.for("vercel.ai.error.AI_LoadSettingError"),Symbol.for("vercel.ai.error.AI_NoContentGeneratedError");var R="AI_NoSuchModelError",S=`vercel.ai.error.${R}`,T=Symbol.for(S),U=class extends r{constructor({errorName:a=R,modelId:b,modelType:c,message:d=`No such ${c}: ${b}`}){super({name:a,message:d}),this[k]=!0,this.modelId=b,this.modelType=c}static isInstance(a){return r.hasMarker(a,S)}};k=T;var V="AI_TooManyEmbeddingValuesForCallError",W=`vercel.ai.error.${V}`,X=Symbol.for(W),Y=class extends r{constructor(a){super({name:V,message:`Too many values for a single embedding call. The ${a.provider} model "${a.modelId}" can only embed up to ${a.maxEmbeddingsPerCall} values per call, but ${a.values.length} values were provided.`}),this[l]=!0,this.provider=a.provider,this.modelId=a.modelId,this.maxEmbeddingsPerCall=a.maxEmbeddingsPerCall,this.values=a.values}static isInstance(a){return r.hasMarker(a,W)}};l=X;var Z="AI_TypeValidationError",$=`vercel.ai.error.${Z}`,_=Symbol.for($),aa=class a extends r{constructor({value:a,cause:b}){super({name:Z,message:`Type validation failed: Value: ${JSON.stringify(a)}.
Error message: ${A(b)}`,cause:b}),this[m]=!0,this.value=a}static isInstance(a){return r.hasMarker(a,$)}static wrap({value:b,cause:c}){return a.isInstance(c)&&c.value===b?c:new a({value:b,cause:c})}};m=_;var ab=aa,ac="AI_UnsupportedFunctionalityError",ad=`vercel.ai.error.${ac}`,ae=Symbol.for(ad),af=class extends r{constructor({functionality:a,message:b=`'${a}' functionality not supported.`}){super({name:ac,message:b}),this[n]=!0,this.functionality=a}static isInstance(a){return r.hasMarker(a,ad)}};function ag(a){return null===a||"string"==typeof a||"number"==typeof a||"boolean"==typeof a||(Array.isArray(a)?a.every(ag):"object"==typeof a&&Object.entries(a).every(([a,b])=>"string"==typeof a&&ag(b)))}function ah(a){return Array.isArray(a)&&a.every(ag)}function ai(a){return null!=a&&"object"==typeof a&&Object.entries(a).every(([a,b])=>"string"==typeof a&&ag(b))}n=ae},43413:(a,b,c)=>{let d;c.d(b,{mD:()=>bw,m2:()=>aH,Z9:()=>bz,ej:()=>bB,n_:()=>bA,Ds:()=>bc,hK:()=>aL,sl:()=>bb,cV:()=>bd,hL:()=>a8,J2:()=>a9,cb:()=>aI,o8:()=>bD,$C:()=>aM,u1:()=>aN,$b:()=>aT,zf:()=>aO,qs:()=>aU,WL:()=>aV,x3:()=>aW,_Z:()=>a3,xI:()=>a4,GU:()=>a6,hd:()=>ba,N8:()=>a2,ZZ:()=>a0,k5:()=>a_,ae:()=>bC});var e,f,g,h,i=c(43289);class j extends Error{constructor(a,b){super(a),this.name="ParseError",this.type=b.type,this.field=b.field,this.value=b.value,this.line=b.line}}function k(a){}class l extends TransformStream{constructor({onError:a,onRetry:b,onComment:c}={}){let d;super({start(e){d=function(a){if("function"==typeof a)throw TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");let{onEvent:b=k,onError:c=k,onRetry:d=k,onComment:e}=a,f="",g=!0,h,i="",l="";function m(a){if(""===a)return void(i.length>0&&b({id:h,event:l||void 0,data:i.endsWith(`
`)?i.slice(0,-1):i}),h=void 0,i="",l="");if(a.startsWith(":")){e&&e(a.slice(a.startsWith(": ")?2:1));return}let c=a.indexOf(":");if(-1!==c){let b=a.slice(0,c),d=" "===a[c+1]?2:1;n(b,a.slice(c+d),a);return}n(a,"",a)}function n(a,b,e){switch(a){case"event":l=b;break;case"data":i=`${i}${b}
`;break;case"id":h=b.includes("\0")?void 0:b;break;case"retry":/^\d+$/.test(b)?d(parseInt(b,10)):c(new j(`Invalid \`retry\` value: "${b}"`,{type:"invalid-retry",value:b,line:e}));break;default:c(new j(`Unknown field "${a.length>20?`${a.slice(0,20)}\u2026`:a}"`,{type:"unknown-field",field:a,value:b,line:e}))}}return{feed:function(a){let b=g?a.replace(/^\xEF\xBB\xBF/,""):a,[c,d]=function(a){let b=[],c="",d=0;for(;d<a.length;){let e=a.indexOf("\r",d),f=a.indexOf(`
`,d),g=-1;if(-1!==e&&-1!==f?g=Math.min(e,f):-1!==e?g=e===a.length-1?-1:e:-1!==f&&(g=f),-1===g){c=a.slice(d);break}{let c=a.slice(d,g);b.push(c),"\r"===a[(d=g+1)-1]&&a[d]===`
`&&d++}}return[b,c]}(`${f}${b}`);for(let a of c)m(a);f=d,g=!1},reset:function(a={}){f&&a.consume&&m(f),g=!0,h=void 0,i="",l="",f=""}}}({onEvent:a=>{e.enqueue(a)},onError(b){"terminate"===a?e.error(b):"function"==typeof a&&a(b)},onRetry:b,onComment:c})},transform(a){d.feed(a)}})}}var m=c(67043),n=c(67860);class o{constructor(a){this.counter=0,this.metadataRegistry=a?.metadata??m.fd,this.target=a?.target??"draft-2020-12",this.unrepresentable=a?.unrepresentable??"throw",this.override=a?.override??(()=>{}),this.io=a?.io??"output",this.seen=new Map}process(a,b={path:[],schemaPath:[]}){var c;let d=a._zod.def,e=this.seen.get(a);if(e)return e.count++,b.schemaPath.includes(a)&&(e.cycle=b.path),e.schema;let f={schema:{},count:1,cycle:void 0,path:b.path};this.seen.set(a,f);let g=a._zod.toJSONSchema?.();if(g)f.schema=g;else{let c={...b,schemaPath:[...b.schemaPath,a],path:b.path},e=a._zod.parent;if(e)f.ref=e,this.process(e,c),this.seen.get(e).isParent=!0;else{let b=f.schema;switch(d.type){case"string":{b.type="string";let{minimum:c,maximum:d,format:e,patterns:g,contentEncoding:h}=a._zod.bag;if("number"==typeof c&&(b.minLength=c),"number"==typeof d&&(b.maxLength=d),e&&(b.format=({guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""})[e]??e,""===b.format&&delete b.format),h&&(b.contentEncoding=h),g&&g.size>0){let a=[...g];1===a.length?b.pattern=a[0].source:a.length>1&&(f.schema.allOf=[...a.map(a=>({..."draft-7"===this.target||"draft-4"===this.target||"openapi-3.0"===this.target?{type:"string"}:{},pattern:a.source}))])}break}case"number":{let{minimum:c,maximum:d,format:e,multipleOf:f,exclusiveMaximum:g,exclusiveMinimum:h}=a._zod.bag;"string"==typeof e&&e.includes("int")?b.type="integer":b.type="number","number"==typeof h&&("draft-4"===this.target||"openapi-3.0"===this.target?(b.minimum=h,b.exclusiveMinimum=!0):b.exclusiveMinimum=h),"number"==typeof c&&(b.minimum=c,"number"==typeof h&&"draft-4"!==this.target&&(h>=c?delete b.minimum:delete b.exclusiveMinimum)),"number"==typeof g&&("draft-4"===this.target||"openapi-3.0"===this.target?(b.maximum=g,b.exclusiveMaximum=!0):b.exclusiveMaximum=g),"number"==typeof d&&(b.maximum=d,"number"==typeof g&&"draft-4"!==this.target&&(g<=d?delete b.maximum:delete b.exclusiveMaximum)),"number"==typeof f&&(b.multipleOf=f);break}case"boolean":case"success":b.type="boolean";break;case"bigint":if("throw"===this.unrepresentable)throw Error("BigInt cannot be represented in JSON Schema");break;case"symbol":if("throw"===this.unrepresentable)throw Error("Symbols cannot be represented in JSON Schema");break;case"null":"openapi-3.0"===this.target?(b.type="string",b.nullable=!0,b.enum=[null]):b.type="null";break;case"any":case"unknown":break;case"undefined":if("throw"===this.unrepresentable)throw Error("Undefined cannot be represented in JSON Schema");break;case"void":if("throw"===this.unrepresentable)throw Error("Void cannot be represented in JSON Schema");break;case"never":b.not={};break;case"date":if("throw"===this.unrepresentable)throw Error("Date cannot be represented in JSON Schema");break;case"array":{let{minimum:e,maximum:f}=a._zod.bag;"number"==typeof e&&(b.minItems=e),"number"==typeof f&&(b.maxItems=f),b.type="array",b.items=this.process(d.element,{...c,path:[...c.path,"items"]});break}case"object":{b.type="object",b.properties={};let a=d.shape;for(let d in a)b.properties[d]=this.process(a[d],{...c,path:[...c.path,"properties",d]});let e=new Set([...new Set(Object.keys(a))].filter(a=>{let b=d.shape[a]._zod;return"input"===this.io?void 0===b.optin:void 0===b.optout}));e.size>0&&(b.required=Array.from(e)),d.catchall?._zod.def.type==="never"?b.additionalProperties=!1:d.catchall?d.catchall&&(b.additionalProperties=this.process(d.catchall,{...c,path:[...c.path,"additionalProperties"]})):"output"===this.io&&(b.additionalProperties=!1);break}case"union":b.anyOf=d.options.map((a,b)=>this.process(a,{...c,path:[...c.path,"anyOf",b]}));break;case"intersection":{let a=this.process(d.left,{...c,path:[...c.path,"allOf",0]}),e=this.process(d.right,{...c,path:[...c.path,"allOf",1]}),f=a=>"allOf"in a&&1===Object.keys(a).length;b.allOf=[...f(a)?a.allOf:[a],...f(e)?e.allOf:[e]];break}case"tuple":{b.type="array";let e="draft-2020-12"===this.target?"prefixItems":"items",f="draft-2020-12"===this.target||"openapi-3.0"===this.target?"items":"additionalItems",g=d.items.map((a,b)=>this.process(a,{...c,path:[...c.path,e,b]})),h=d.rest?this.process(d.rest,{...c,path:[...c.path,f,..."openapi-3.0"===this.target?[d.items.length]:[]]}):null;"draft-2020-12"===this.target?(b.prefixItems=g,h&&(b.items=h)):"openapi-3.0"===this.target?(b.items={anyOf:g},h&&b.items.anyOf.push(h),b.minItems=g.length,h||(b.maxItems=g.length)):(b.items=g,h&&(b.additionalItems=h));let{minimum:i,maximum:j}=a._zod.bag;"number"==typeof i&&(b.minItems=i),"number"==typeof j&&(b.maxItems=j);break}case"record":b.type="object",("draft-7"===this.target||"draft-2020-12"===this.target)&&(b.propertyNames=this.process(d.keyType,{...c,path:[...c.path,"propertyNames"]})),b.additionalProperties=this.process(d.valueType,{...c,path:[...c.path,"additionalProperties"]});break;case"map":if("throw"===this.unrepresentable)throw Error("Map cannot be represented in JSON Schema");break;case"set":if("throw"===this.unrepresentable)throw Error("Set cannot be represented in JSON Schema");break;case"enum":{let a=(0,n.w5)(d.entries);a.every(a=>"number"==typeof a)&&(b.type="number"),a.every(a=>"string"==typeof a)&&(b.type="string"),b.enum=a;break}case"literal":{let a=[];for(let b of d.values)if(void 0===b){if("throw"===this.unrepresentable)throw Error("Literal `undefined` cannot be represented in JSON Schema")}else if("bigint"==typeof b)if("throw"===this.unrepresentable)throw Error("BigInt literals cannot be represented in JSON Schema");else a.push(Number(b));else a.push(b);if(0===a.length);else if(1===a.length){let c=a[0];b.type=null===c?"null":typeof c,"draft-4"===this.target||"openapi-3.0"===this.target?b.enum=[c]:b.const=c}else a.every(a=>"number"==typeof a)&&(b.type="number"),a.every(a=>"string"==typeof a)&&(b.type="string"),a.every(a=>"boolean"==typeof a)&&(b.type="string"),a.every(a=>null===a)&&(b.type="null"),b.enum=a;break}case"file":{let c={type:"string",format:"binary",contentEncoding:"binary"},{minimum:d,maximum:e,mime:f}=a._zod.bag;void 0!==d&&(c.minLength=d),void 0!==e&&(c.maxLength=e),f?1===f.length?(c.contentMediaType=f[0],Object.assign(b,c)):b.anyOf=f.map(a=>({...c,contentMediaType:a})):Object.assign(b,c);break}case"transform":if("throw"===this.unrepresentable)throw Error("Transforms cannot be represented in JSON Schema");break;case"nullable":{let a=this.process(d.innerType,c);"openapi-3.0"===this.target?(f.ref=d.innerType,b.nullable=!0):b.anyOf=[a,{type:"null"}];break}case"nonoptional":case"promise":case"optional":this.process(d.innerType,c),f.ref=d.innerType;break;case"default":this.process(d.innerType,c),f.ref=d.innerType,b.default=JSON.parse(JSON.stringify(d.defaultValue));break;case"prefault":this.process(d.innerType,c),f.ref=d.innerType,"input"===this.io&&(b._prefault=JSON.parse(JSON.stringify(d.defaultValue)));break;case"catch":{let a;this.process(d.innerType,c),f.ref=d.innerType;try{a=d.catchValue(void 0)}catch{throw Error("Dynamic catch values are not supported in JSON Schema")}b.default=a;break}case"nan":if("throw"===this.unrepresentable)throw Error("NaN cannot be represented in JSON Schema");break;case"template_literal":{let c=a._zod.pattern;if(!c)throw Error("Pattern not found in template literal");b.type="string",b.pattern=c.source;break}case"pipe":{let a="input"===this.io?"transform"===d.in._zod.def.type?d.out:d.in:d.out;this.process(a,c),f.ref=a;break}case"readonly":this.process(d.innerType,c),f.ref=d.innerType,b.readOnly=!0;break;case"lazy":{let b=a._zod.innerType;this.process(b,c),f.ref=b;break}case"custom":if("throw"===this.unrepresentable)throw Error("Custom types cannot be represented in JSON Schema");break;case"function":if("throw"===this.unrepresentable)throw Error("Function types cannot be represented in JSON Schema")}}}let h=this.metadataRegistry.get(a);return h&&Object.assign(f.schema,h),"input"===this.io&&function a(b,c){let d=c??{seen:new Set};if(d.seen.has(b))return!1;d.seen.add(b);let e=b._zod.def;switch(e.type){case"string":case"number":case"bigint":case"boolean":case"date":case"symbol":case"undefined":case"null":case"any":case"unknown":case"never":case"void":case"literal":case"enum":case"nan":case"file":case"template_literal":case"custom":case"success":case"catch":case"function":return!1;case"array":return a(e.element,d);case"object":for(let b in e.shape)if(a(e.shape[b],d))return!0;return!1;case"union":for(let b of e.options)if(a(b,d))return!0;return!1;case"intersection":return a(e.left,d)||a(e.right,d);case"tuple":for(let b of e.items)if(a(b,d))return!0;if(e.rest&&a(e.rest,d))return!0;return!1;case"record":case"map":return a(e.keyType,d)||a(e.valueType,d);case"set":return a(e.valueType,d);case"promise":case"optional":case"nonoptional":case"nullable":case"readonly":case"default":case"prefault":return a(e.innerType,d);case"lazy":return a(e.getter(),d);case"transform":return!0;case"pipe":return a(e.in,d)||a(e.out,d)}throw Error(`Unknown schema type: ${e.type}`)}(a)&&(delete f.schema.examples,delete f.schema.default),"input"===this.io&&f.schema._prefault&&((c=f.schema).default??(c.default=f.schema._prefault)),delete f.schema._prefault,this.seen.get(a).schema}emit(a,b){let c={cycles:b?.cycles??"ref",reused:b?.reused??"inline",external:b?.external??void 0},d=this.seen.get(a);if(!d)throw Error("Unprocessed schema. This is a bug in Zod.");let e=a=>{let b="draft-2020-12"===this.target?"$defs":"definitions";if(c.external){let d=c.external.registry.get(a[0])?.id,e=c.external.uri??(a=>a);if(d)return{ref:e(d)};let f=a[1].defId??a[1].schema.id??`schema${this.counter++}`;return a[1].defId=f,{defId:f,ref:`${e("__shared")}#/${b}/${f}`}}if(a[1]===d)return{ref:"#"};let e=`#/${b}/`,f=a[1].schema.id??`__schema${this.counter++}`;return{defId:f,ref:e+f}},f=a=>{if(a[1].schema.$ref)return;let b=a[1],{ref:c,defId:d}=e(a);b.def={...b.schema},d&&(b.defId=d);let f=b.schema;for(let a in f)delete f[a];f.$ref=c};if("throw"===c.cycles)for(let a of this.seen.entries()){let b=a[1];if(b.cycle)throw Error(`Cycle detected: #/${b.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let b of this.seen.entries()){let d=b[1];if(a===b[0]){f(b);continue}if(c.external){let d=c.external.registry.get(b[0])?.id;if(a!==b[0]&&d){f(b);continue}}if(this.metadataRegistry.get(b[0])?.id||d.cycle||d.count>1&&"ref"===c.reused){f(b);continue}}let g=(a,b)=>{let c=this.seen.get(a),d=c.def??c.schema,e={...d};if(null===c.ref)return;let f=c.ref;if(c.ref=null,f){g(f,b);let a=this.seen.get(f).schema;a.$ref&&("draft-7"===b.target||"draft-4"===b.target||"openapi-3.0"===b.target)?(d.allOf=d.allOf??[],d.allOf.push(a)):(Object.assign(d,a),Object.assign(d,e))}c.isParent||this.override({zodSchema:a,jsonSchema:d,path:c.path??[]})};for(let a of[...this.seen.entries()].reverse())g(a[0],{target:this.target});let h={};if("draft-2020-12"===this.target?h.$schema="https://json-schema.org/draft/2020-12/schema":"draft-7"===this.target?h.$schema="http://json-schema.org/draft-07/schema#":"draft-4"===this.target?h.$schema="http://json-schema.org/draft-04/schema#":"openapi-3.0"===this.target||console.warn(`Invalid target: ${this.target}`),c.external?.uri){let b=c.external.registry.get(a)?.id;if(!b)throw Error("Schema is missing an `id` property");h.$id=c.external.uri(b)}Object.assign(h,d.def);let i=c.external?.defs??{};for(let a of this.seen.entries()){let b=a[1];b.def&&b.defId&&(i[b.defId]=b.def)}c.external||Object.keys(i).length>0&&("draft-2020-12"===this.target?h.$defs=i:h.definitions=i);try{return JSON.parse(JSON.stringify(h))}catch(a){throw Error("Error converting schema to JSON.")}}}var p=c(13405);!function(a){a.assertEqual=a=>{},a.assertIs=function(a){},a.assertNever=function(a){throw Error()},a.arrayToEnum=a=>{let b={};for(let c of a)b[c]=c;return b},a.getValidEnumValues=b=>{let c=a.objectKeys(b).filter(a=>"number"!=typeof b[b[a]]),d={};for(let a of c)d[a]=b[a];return a.objectValues(d)},a.objectValues=b=>a.objectKeys(b).map(function(a){return b[a]}),a.objectKeys="function"==typeof Object.keys?a=>Object.keys(a):a=>{let b=[];for(let c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b},a.find=(a,b)=>{for(let c of a)if(b(c))return c},a.isInteger="function"==typeof Number.isInteger?a=>Number.isInteger(a):a=>"number"==typeof a&&Number.isFinite(a)&&Math.floor(a)===a,a.joinValues=function(a,b=" | "){return a.map(a=>"string"==typeof a?`'${a}'`:a).join(b)},a.jsonStringifyReplacer=(a,b)=>"bigint"==typeof b?b.toString():b}(e||(e={})),(f||(f={})).mergeShapes=(a,b)=>({...a,...b});let q=e.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),r=a=>{switch(typeof a){case"undefined":return q.undefined;case"string":return q.string;case"number":return Number.isNaN(a)?q.nan:q.number;case"boolean":return q.boolean;case"function":return q.function;case"bigint":return q.bigint;case"symbol":return q.symbol;case"object":if(Array.isArray(a))return q.array;if(null===a)return q.null;if(a.then&&"function"==typeof a.then&&a.catch&&"function"==typeof a.catch)return q.promise;if("undefined"!=typeof Map&&a instanceof Map)return q.map;if("undefined"!=typeof Set&&a instanceof Set)return q.set;if("undefined"!=typeof Date&&a instanceof Date)return q.date;return q.object;default:return q.unknown}},s=e.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class t extends Error{get errors(){return this.issues}constructor(a){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};let b=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,b):this.__proto__=b,this.name="ZodError",this.issues=a}format(a){let b=a||function(a){return a.message},c={_errors:[]},d=a=>{for(let e of a.issues)if("invalid_union"===e.code)e.unionErrors.map(d);else if("invalid_return_type"===e.code)d(e.returnTypeError);else if("invalid_arguments"===e.code)d(e.argumentsError);else if(0===e.path.length)c._errors.push(b(e));else{let a=c,d=0;for(;d<e.path.length;){let c=e.path[d];d===e.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(b(e))):a[c]=a[c]||{_errors:[]},a=a[c],d++}}};return d(this),c}static assert(a){if(!(a instanceof t))throw Error(`Not a ZodError: ${a}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,e.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(a=a=>a.message){let b={},c=[];for(let d of this.issues)if(d.path.length>0){let c=d.path[0];b[c]=b[c]||[],b[c].push(a(d))}else c.push(a(d));return{formErrors:c,fieldErrors:b}}get formErrors(){return this.flatten()}}t.create=a=>new t(a);let u=(a,b)=>{let c;switch(a.code){case s.invalid_type:c=a.received===q.undefined?"Required":`Expected ${a.expected}, received ${a.received}`;break;case s.invalid_literal:c=`Invalid literal value, expected ${JSON.stringify(a.expected,e.jsonStringifyReplacer)}`;break;case s.unrecognized_keys:c=`Unrecognized key(s) in object: ${e.joinValues(a.keys,", ")}`;break;case s.invalid_union:c="Invalid input";break;case s.invalid_union_discriminator:c=`Invalid discriminator value. Expected ${e.joinValues(a.options)}`;break;case s.invalid_enum_value:c=`Invalid enum value. Expected ${e.joinValues(a.options)}, received '${a.received}'`;break;case s.invalid_arguments:c="Invalid function arguments";break;case s.invalid_return_type:c="Invalid function return type";break;case s.invalid_date:c="Invalid date";break;case s.invalid_string:"object"==typeof a.validation?"includes"in a.validation?(c=`Invalid input: must include "${a.validation.includes}"`,"number"==typeof a.validation.position&&(c=`${c} at one or more positions greater than or equal to ${a.validation.position}`)):"startsWith"in a.validation?c=`Invalid input: must start with "${a.validation.startsWith}"`:"endsWith"in a.validation?c=`Invalid input: must end with "${a.validation.endsWith}"`:e.assertNever(a.validation):c="regex"!==a.validation?`Invalid ${a.validation}`:"Invalid";break;case s.too_small:c="array"===a.type?`Array must contain ${a.exact?"exactly":a.inclusive?"at least":"more than"} ${a.minimum} element(s)`:"string"===a.type?`String must contain ${a.exact?"exactly":a.inclusive?"at least":"over"} ${a.minimum} character(s)`:"number"===a.type||"bigint"===a.type?`Number must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${a.minimum}`:"date"===a.type?`Date must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(a.minimum))}`:"Invalid input";break;case s.too_big:c="array"===a.type?`Array must contain ${a.exact?"exactly":a.inclusive?"at most":"less than"} ${a.maximum} element(s)`:"string"===a.type?`String must contain ${a.exact?"exactly":a.inclusive?"at most":"under"} ${a.maximum} character(s)`:"number"===a.type?`Number must be ${a.exact?"exactly":a.inclusive?"less than or equal to":"less than"} ${a.maximum}`:"bigint"===a.type?`BigInt must be ${a.exact?"exactly":a.inclusive?"less than or equal to":"less than"} ${a.maximum}`:"date"===a.type?`Date must be ${a.exact?"exactly":a.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(a.maximum))}`:"Invalid input";break;case s.custom:c="Invalid input";break;case s.invalid_intersection_types:c="Intersection results could not be merged";break;case s.not_multiple_of:c=`Number must be a multiple of ${a.multipleOf}`;break;case s.not_finite:c="Number must be finite";break;default:c=b.defaultError,e.assertNever(a)}return{message:c}};!function(a){a.errToObj=a=>"string"==typeof a?{message:a}:a||{},a.toString=a=>"string"==typeof a?a:a?.message}(g||(g={}));let v=a=>{let{data:b,path:c,errorMaps:d,issueData:e}=a,f=[...c,...e.path||[]],g={...e,path:f};if(void 0!==e.message)return{...e,path:f,message:e.message};let h="";for(let a of d.filter(a=>!!a).slice().reverse())h=a(g,{data:b,defaultError:h}).message;return{...e,path:f,message:h}};function w(a,b){let c=v({issueData:b,data:a.data,path:a.path,errorMaps:[a.common.contextualErrorMap,a.schemaErrorMap,u,void 0].filter(a=>!!a)});a.common.issues.push(c)}class x{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(a,b){let c=[];for(let d of b){if("aborted"===d.status)return y;"dirty"===d.status&&a.dirty(),c.push(d.value)}return{status:a.value,value:c}}static async mergeObjectAsync(a,b){let c=[];for(let a of b){let b=await a.key,d=await a.value;c.push({key:b,value:d})}return x.mergeObjectSync(a,c)}static mergeObjectSync(a,b){let c={};for(let d of b){let{key:b,value:e}=d;if("aborted"===b.status||"aborted"===e.status)return y;"dirty"===b.status&&a.dirty(),"dirty"===e.status&&a.dirty(),"__proto__"!==b.value&&(void 0!==e.value||d.alwaysSet)&&(c[b.value]=e.value)}return{status:a.value,value:c}}}let y=Object.freeze({status:"aborted"}),z=a=>({status:"dirty",value:a}),A=a=>({status:"valid",value:a}),B=a=>"undefined"!=typeof Promise&&a instanceof Promise;class C{constructor(a,b,c,d){this._cachedPath=[],this.parent=a,this.data=b,this._path=c,this._key=d}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let D=(a,b)=>{if("valid"===b.status)return{success:!0,data:b.value};if(!a.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let b=new t(a.common.issues);return this._error=b,this._error}}};function E(a){if(!a)return{};let{errorMap:b,invalid_type_error:c,required_error:d,description:e}=a;if(b&&(c||d))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return b?{errorMap:b,description:e}:{errorMap:(b,e)=>{let{message:f}=a;return"invalid_enum_value"===b.code?{message:f??e.defaultError}:void 0===e.data?{message:f??d??e.defaultError}:"invalid_type"!==b.code?{message:e.defaultError}:{message:f??c??e.defaultError}},description:e}}class F{get description(){return this._def.description}_getType(a){return r(a.data)}_getOrReturnCtx(a,b){return b||{common:a.parent.common,data:a.data,parsedType:r(a.data),schemaErrorMap:this._def.errorMap,path:a.path,parent:a.parent}}_processInputParams(a){return{status:new x,ctx:{common:a.parent.common,data:a.data,parsedType:r(a.data),schemaErrorMap:this._def.errorMap,path:a.path,parent:a.parent}}}_parseSync(a){let b=this._parse(a);if(B(b))throw Error("Synchronous parse encountered promise.");return b}_parseAsync(a){return Promise.resolve(this._parse(a))}parse(a,b){let c=this.safeParse(a,b);if(c.success)return c.data;throw c.error}safeParse(a,b){let c={common:{issues:[],async:b?.async??!1,contextualErrorMap:b?.errorMap},path:b?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:r(a)},d=this._parseSync({data:a,path:c.path,parent:c});return D(c,d)}"~validate"(a){let b={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:r(a)};if(!this["~standard"].async)try{let c=this._parseSync({data:a,path:[],parent:b});return"valid"===c.status?{value:c.value}:{issues:b.common.issues}}catch(a){a?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),b.common={issues:[],async:!0}}return this._parseAsync({data:a,path:[],parent:b}).then(a=>"valid"===a.status?{value:a.value}:{issues:b.common.issues})}async parseAsync(a,b){let c=await this.safeParseAsync(a,b);if(c.success)return c.data;throw c.error}async safeParseAsync(a,b){let c={common:{issues:[],contextualErrorMap:b?.errorMap,async:!0},path:b?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:r(a)},d=this._parse({data:a,path:c.path,parent:c});return D(c,await (B(d)?d:Promise.resolve(d)))}refine(a,b){return this._refinement((c,d)=>{let e=a(c),f=()=>d.addIssue({code:s.custom,..."string"==typeof b||void 0===b?{message:b}:"function"==typeof b?b(c):b});return"undefined"!=typeof Promise&&e instanceof Promise?e.then(a=>!!a||(f(),!1)):!!e||(f(),!1)})}refinement(a,b){return this._refinement((c,d)=>!!a(c)||(d.addIssue("function"==typeof b?b(c,d):b),!1))}_refinement(a){return new ay({schema:this,typeName:h.ZodEffects,effect:{type:"refinement",refinement:a}})}superRefine(a){return this._refinement(a)}constructor(a){this.spa=this.safeParseAsync,this._def=a,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:a=>this["~validate"](a)}}optional(){return az.create(this,this._def)}nullable(){return aA.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ah.create(this)}promise(){return ax.create(this,this._def)}or(a){return aj.create([this,a],this._def)}and(a){return am.create(this,a,this._def)}transform(a){return new ay({...E(this._def),schema:this,typeName:h.ZodEffects,effect:{type:"transform",transform:a}})}default(a){return new aB({...E(this._def),innerType:this,defaultValue:"function"==typeof a?a:()=>a,typeName:h.ZodDefault})}brand(){return new aE({typeName:h.ZodBranded,type:this,...E(this._def)})}catch(a){return new aC({...E(this._def),innerType:this,catchValue:"function"==typeof a?a:()=>a,typeName:h.ZodCatch})}describe(a){return new this.constructor({...this._def,description:a})}pipe(a){return aF.create(this,a)}readonly(){return aG.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let G=/^c[^\s-]{8,}$/i,H=/^[0-9a-z]+$/,I=/^[0-9A-HJKMNP-TV-Z]{26}$/i,J=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,K=/^[a-z0-9_-]{21}$/i,L=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,M=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,N=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,O=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,P=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Q=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,R=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,S=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,T=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,U="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",V=RegExp(`^${U}$`);function W(a){let b="[0-5]\\d";a.precision?b=`${b}\\.\\d{${a.precision}}`:null==a.precision&&(b=`${b}(\\.\\d+)?`);let c=a.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${b})${c}`}class X extends F{_parse(a){var b,c,f,g;let h;if(this._def.coerce&&(a.data=String(a.data)),this._getType(a)!==q.string){let b=this._getOrReturnCtx(a);return w(b,{code:s.invalid_type,expected:q.string,received:b.parsedType}),y}let i=new x;for(let j of this._def.checks)if("min"===j.kind)a.data.length<j.value&&(w(h=this._getOrReturnCtx(a,h),{code:s.too_small,minimum:j.value,type:"string",inclusive:!0,exact:!1,message:j.message}),i.dirty());else if("max"===j.kind)a.data.length>j.value&&(w(h=this._getOrReturnCtx(a,h),{code:s.too_big,maximum:j.value,type:"string",inclusive:!0,exact:!1,message:j.message}),i.dirty());else if("length"===j.kind){let b=a.data.length>j.value,c=a.data.length<j.value;(b||c)&&(h=this._getOrReturnCtx(a,h),b?w(h,{code:s.too_big,maximum:j.value,type:"string",inclusive:!0,exact:!0,message:j.message}):c&&w(h,{code:s.too_small,minimum:j.value,type:"string",inclusive:!0,exact:!0,message:j.message}),i.dirty())}else if("email"===j.kind)N.test(a.data)||(w(h=this._getOrReturnCtx(a,h),{validation:"email",code:s.invalid_string,message:j.message}),i.dirty());else if("emoji"===j.kind)d||(d=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),d.test(a.data)||(w(h=this._getOrReturnCtx(a,h),{validation:"emoji",code:s.invalid_string,message:j.message}),i.dirty());else if("uuid"===j.kind)J.test(a.data)||(w(h=this._getOrReturnCtx(a,h),{validation:"uuid",code:s.invalid_string,message:j.message}),i.dirty());else if("nanoid"===j.kind)K.test(a.data)||(w(h=this._getOrReturnCtx(a,h),{validation:"nanoid",code:s.invalid_string,message:j.message}),i.dirty());else if("cuid"===j.kind)G.test(a.data)||(w(h=this._getOrReturnCtx(a,h),{validation:"cuid",code:s.invalid_string,message:j.message}),i.dirty());else if("cuid2"===j.kind)H.test(a.data)||(w(h=this._getOrReturnCtx(a,h),{validation:"cuid2",code:s.invalid_string,message:j.message}),i.dirty());else if("ulid"===j.kind)I.test(a.data)||(w(h=this._getOrReturnCtx(a,h),{validation:"ulid",code:s.invalid_string,message:j.message}),i.dirty());else if("url"===j.kind)try{new URL(a.data)}catch{w(h=this._getOrReturnCtx(a,h),{validation:"url",code:s.invalid_string,message:j.message}),i.dirty()}else"regex"===j.kind?(j.regex.lastIndex=0,j.regex.test(a.data)||(w(h=this._getOrReturnCtx(a,h),{validation:"regex",code:s.invalid_string,message:j.message}),i.dirty())):"trim"===j.kind?a.data=a.data.trim():"includes"===j.kind?a.data.includes(j.value,j.position)||(w(h=this._getOrReturnCtx(a,h),{code:s.invalid_string,validation:{includes:j.value,position:j.position},message:j.message}),i.dirty()):"toLowerCase"===j.kind?a.data=a.data.toLowerCase():"toUpperCase"===j.kind?a.data=a.data.toUpperCase():"startsWith"===j.kind?a.data.startsWith(j.value)||(w(h=this._getOrReturnCtx(a,h),{code:s.invalid_string,validation:{startsWith:j.value},message:j.message}),i.dirty()):"endsWith"===j.kind?a.data.endsWith(j.value)||(w(h=this._getOrReturnCtx(a,h),{code:s.invalid_string,validation:{endsWith:j.value},message:j.message}),i.dirty()):"datetime"===j.kind?(function(a){let b=`${U}T${W(a)}`,c=[];return c.push(a.local?"Z?":"Z"),a.offset&&c.push("([+-]\\d{2}:?\\d{2})"),b=`${b}(${c.join("|")})`,RegExp(`^${b}$`)})(j).test(a.data)||(w(h=this._getOrReturnCtx(a,h),{code:s.invalid_string,validation:"datetime",message:j.message}),i.dirty()):"date"===j.kind?V.test(a.data)||(w(h=this._getOrReturnCtx(a,h),{code:s.invalid_string,validation:"date",message:j.message}),i.dirty()):"time"===j.kind?RegExp(`^${W(j)}$`).test(a.data)||(w(h=this._getOrReturnCtx(a,h),{code:s.invalid_string,validation:"time",message:j.message}),i.dirty()):"duration"===j.kind?M.test(a.data)||(w(h=this._getOrReturnCtx(a,h),{validation:"duration",code:s.invalid_string,message:j.message}),i.dirty()):"ip"===j.kind?(b=a.data,!(("v4"===(c=j.version)||!c)&&O.test(b)||("v6"===c||!c)&&Q.test(b))&&1&&(w(h=this._getOrReturnCtx(a,h),{validation:"ip",code:s.invalid_string,message:j.message}),i.dirty())):"jwt"===j.kind?!function(a,b){if(!L.test(a))return!1;try{let[c]=a.split(".");if(!c)return!1;let d=c.replace(/-/g,"+").replace(/_/g,"/").padEnd(c.length+(4-c.length%4)%4,"="),e=JSON.parse(atob(d));if("object"!=typeof e||null===e||"typ"in e&&e?.typ!=="JWT"||!e.alg||b&&e.alg!==b)return!1;return!0}catch{return!1}}(a.data,j.alg)&&(w(h=this._getOrReturnCtx(a,h),{validation:"jwt",code:s.invalid_string,message:j.message}),i.dirty()):"cidr"===j.kind?(f=a.data,!(("v4"===(g=j.version)||!g)&&P.test(f)||("v6"===g||!g)&&R.test(f))&&1&&(w(h=this._getOrReturnCtx(a,h),{validation:"cidr",code:s.invalid_string,message:j.message}),i.dirty())):"base64"===j.kind?S.test(a.data)||(w(h=this._getOrReturnCtx(a,h),{validation:"base64",code:s.invalid_string,message:j.message}),i.dirty()):"base64url"===j.kind?T.test(a.data)||(w(h=this._getOrReturnCtx(a,h),{validation:"base64url",code:s.invalid_string,message:j.message}),i.dirty()):e.assertNever(j);return{status:i.value,value:a.data}}_regex(a,b,c){return this.refinement(b=>a.test(b),{validation:b,code:s.invalid_string,...g.errToObj(c)})}_addCheck(a){return new X({...this._def,checks:[...this._def.checks,a]})}email(a){return this._addCheck({kind:"email",...g.errToObj(a)})}url(a){return this._addCheck({kind:"url",...g.errToObj(a)})}emoji(a){return this._addCheck({kind:"emoji",...g.errToObj(a)})}uuid(a){return this._addCheck({kind:"uuid",...g.errToObj(a)})}nanoid(a){return this._addCheck({kind:"nanoid",...g.errToObj(a)})}cuid(a){return this._addCheck({kind:"cuid",...g.errToObj(a)})}cuid2(a){return this._addCheck({kind:"cuid2",...g.errToObj(a)})}ulid(a){return this._addCheck({kind:"ulid",...g.errToObj(a)})}base64(a){return this._addCheck({kind:"base64",...g.errToObj(a)})}base64url(a){return this._addCheck({kind:"base64url",...g.errToObj(a)})}jwt(a){return this._addCheck({kind:"jwt",...g.errToObj(a)})}ip(a){return this._addCheck({kind:"ip",...g.errToObj(a)})}cidr(a){return this._addCheck({kind:"cidr",...g.errToObj(a)})}datetime(a){return"string"==typeof a?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:a}):this._addCheck({kind:"datetime",precision:void 0===a?.precision?null:a?.precision,offset:a?.offset??!1,local:a?.local??!1,...g.errToObj(a?.message)})}date(a){return this._addCheck({kind:"date",message:a})}time(a){return"string"==typeof a?this._addCheck({kind:"time",precision:null,message:a}):this._addCheck({kind:"time",precision:void 0===a?.precision?null:a?.precision,...g.errToObj(a?.message)})}duration(a){return this._addCheck({kind:"duration",...g.errToObj(a)})}regex(a,b){return this._addCheck({kind:"regex",regex:a,...g.errToObj(b)})}includes(a,b){return this._addCheck({kind:"includes",value:a,position:b?.position,...g.errToObj(b?.message)})}startsWith(a,b){return this._addCheck({kind:"startsWith",value:a,...g.errToObj(b)})}endsWith(a,b){return this._addCheck({kind:"endsWith",value:a,...g.errToObj(b)})}min(a,b){return this._addCheck({kind:"min",value:a,...g.errToObj(b)})}max(a,b){return this._addCheck({kind:"max",value:a,...g.errToObj(b)})}length(a,b){return this._addCheck({kind:"length",value:a,...g.errToObj(b)})}nonempty(a){return this.min(1,g.errToObj(a))}trim(){return new X({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new X({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new X({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(a=>"datetime"===a.kind)}get isDate(){return!!this._def.checks.find(a=>"date"===a.kind)}get isTime(){return!!this._def.checks.find(a=>"time"===a.kind)}get isDuration(){return!!this._def.checks.find(a=>"duration"===a.kind)}get isEmail(){return!!this._def.checks.find(a=>"email"===a.kind)}get isURL(){return!!this._def.checks.find(a=>"url"===a.kind)}get isEmoji(){return!!this._def.checks.find(a=>"emoji"===a.kind)}get isUUID(){return!!this._def.checks.find(a=>"uuid"===a.kind)}get isNANOID(){return!!this._def.checks.find(a=>"nanoid"===a.kind)}get isCUID(){return!!this._def.checks.find(a=>"cuid"===a.kind)}get isCUID2(){return!!this._def.checks.find(a=>"cuid2"===a.kind)}get isULID(){return!!this._def.checks.find(a=>"ulid"===a.kind)}get isIP(){return!!this._def.checks.find(a=>"ip"===a.kind)}get isCIDR(){return!!this._def.checks.find(a=>"cidr"===a.kind)}get isBase64(){return!!this._def.checks.find(a=>"base64"===a.kind)}get isBase64url(){return!!this._def.checks.find(a=>"base64url"===a.kind)}get minLength(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return a}get maxLength(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return a}}X.create=a=>new X({checks:[],typeName:h.ZodString,coerce:a?.coerce??!1,...E(a)});class Y extends F{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(a){let b;if(this._def.coerce&&(a.data=Number(a.data)),this._getType(a)!==q.number){let b=this._getOrReturnCtx(a);return w(b,{code:s.invalid_type,expected:q.number,received:b.parsedType}),y}let c=new x;for(let d of this._def.checks)"int"===d.kind?e.isInteger(a.data)||(w(b=this._getOrReturnCtx(a,b),{code:s.invalid_type,expected:"integer",received:"float",message:d.message}),c.dirty()):"min"===d.kind?(d.inclusive?a.data<d.value:a.data<=d.value)&&(w(b=this._getOrReturnCtx(a,b),{code:s.too_small,minimum:d.value,type:"number",inclusive:d.inclusive,exact:!1,message:d.message}),c.dirty()):"max"===d.kind?(d.inclusive?a.data>d.value:a.data>=d.value)&&(w(b=this._getOrReturnCtx(a,b),{code:s.too_big,maximum:d.value,type:"number",inclusive:d.inclusive,exact:!1,message:d.message}),c.dirty()):"multipleOf"===d.kind?0!==function(a,b){let c=(a.toString().split(".")[1]||"").length,d=(b.toString().split(".")[1]||"").length,e=c>d?c:d;return Number.parseInt(a.toFixed(e).replace(".",""))%Number.parseInt(b.toFixed(e).replace(".",""))/10**e}(a.data,d.value)&&(w(b=this._getOrReturnCtx(a,b),{code:s.not_multiple_of,multipleOf:d.value,message:d.message}),c.dirty()):"finite"===d.kind?Number.isFinite(a.data)||(w(b=this._getOrReturnCtx(a,b),{code:s.not_finite,message:d.message}),c.dirty()):e.assertNever(d);return{status:c.value,value:a.data}}gte(a,b){return this.setLimit("min",a,!0,g.toString(b))}gt(a,b){return this.setLimit("min",a,!1,g.toString(b))}lte(a,b){return this.setLimit("max",a,!0,g.toString(b))}lt(a,b){return this.setLimit("max",a,!1,g.toString(b))}setLimit(a,b,c,d){return new Y({...this._def,checks:[...this._def.checks,{kind:a,value:b,inclusive:c,message:g.toString(d)}]})}_addCheck(a){return new Y({...this._def,checks:[...this._def.checks,a]})}int(a){return this._addCheck({kind:"int",message:g.toString(a)})}positive(a){return this._addCheck({kind:"min",value:0,inclusive:!1,message:g.toString(a)})}negative(a){return this._addCheck({kind:"max",value:0,inclusive:!1,message:g.toString(a)})}nonpositive(a){return this._addCheck({kind:"max",value:0,inclusive:!0,message:g.toString(a)})}nonnegative(a){return this._addCheck({kind:"min",value:0,inclusive:!0,message:g.toString(a)})}multipleOf(a,b){return this._addCheck({kind:"multipleOf",value:a,message:g.toString(b)})}finite(a){return this._addCheck({kind:"finite",message:g.toString(a)})}safe(a){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:g.toString(a)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:g.toString(a)})}get minValue(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return a}get maxValue(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return a}get isInt(){return!!this._def.checks.find(a=>"int"===a.kind||"multipleOf"===a.kind&&e.isInteger(a.value))}get isFinite(){let a=null,b=null;for(let c of this._def.checks)if("finite"===c.kind||"int"===c.kind||"multipleOf"===c.kind)return!0;else"min"===c.kind?(null===b||c.value>b)&&(b=c.value):"max"===c.kind&&(null===a||c.value<a)&&(a=c.value);return Number.isFinite(b)&&Number.isFinite(a)}}Y.create=a=>new Y({checks:[],typeName:h.ZodNumber,coerce:a?.coerce||!1,...E(a)});class Z extends F{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(a){let b;if(this._def.coerce)try{a.data=BigInt(a.data)}catch{return this._getInvalidInput(a)}if(this._getType(a)!==q.bigint)return this._getInvalidInput(a);let c=new x;for(let d of this._def.checks)"min"===d.kind?(d.inclusive?a.data<d.value:a.data<=d.value)&&(w(b=this._getOrReturnCtx(a,b),{code:s.too_small,type:"bigint",minimum:d.value,inclusive:d.inclusive,message:d.message}),c.dirty()):"max"===d.kind?(d.inclusive?a.data>d.value:a.data>=d.value)&&(w(b=this._getOrReturnCtx(a,b),{code:s.too_big,type:"bigint",maximum:d.value,inclusive:d.inclusive,message:d.message}),c.dirty()):"multipleOf"===d.kind?a.data%d.value!==BigInt(0)&&(w(b=this._getOrReturnCtx(a,b),{code:s.not_multiple_of,multipleOf:d.value,message:d.message}),c.dirty()):e.assertNever(d);return{status:c.value,value:a.data}}_getInvalidInput(a){let b=this._getOrReturnCtx(a);return w(b,{code:s.invalid_type,expected:q.bigint,received:b.parsedType}),y}gte(a,b){return this.setLimit("min",a,!0,g.toString(b))}gt(a,b){return this.setLimit("min",a,!1,g.toString(b))}lte(a,b){return this.setLimit("max",a,!0,g.toString(b))}lt(a,b){return this.setLimit("max",a,!1,g.toString(b))}setLimit(a,b,c,d){return new Z({...this._def,checks:[...this._def.checks,{kind:a,value:b,inclusive:c,message:g.toString(d)}]})}_addCheck(a){return new Z({...this._def,checks:[...this._def.checks,a]})}positive(a){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:g.toString(a)})}negative(a){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:g.toString(a)})}nonpositive(a){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:g.toString(a)})}nonnegative(a){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:g.toString(a)})}multipleOf(a,b){return this._addCheck({kind:"multipleOf",value:a,message:g.toString(b)})}get minValue(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return a}get maxValue(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return a}}Z.create=a=>new Z({checks:[],typeName:h.ZodBigInt,coerce:a?.coerce??!1,...E(a)});class $ extends F{_parse(a){if(this._def.coerce&&(a.data=!!a.data),this._getType(a)!==q.boolean){let b=this._getOrReturnCtx(a);return w(b,{code:s.invalid_type,expected:q.boolean,received:b.parsedType}),y}return A(a.data)}}$.create=a=>new $({typeName:h.ZodBoolean,coerce:a?.coerce||!1,...E(a)});class _ extends F{_parse(a){let b;if(this._def.coerce&&(a.data=new Date(a.data)),this._getType(a)!==q.date){let b=this._getOrReturnCtx(a);return w(b,{code:s.invalid_type,expected:q.date,received:b.parsedType}),y}if(Number.isNaN(a.data.getTime()))return w(this._getOrReturnCtx(a),{code:s.invalid_date}),y;let c=new x;for(let d of this._def.checks)"min"===d.kind?a.data.getTime()<d.value&&(w(b=this._getOrReturnCtx(a,b),{code:s.too_small,message:d.message,inclusive:!0,exact:!1,minimum:d.value,type:"date"}),c.dirty()):"max"===d.kind?a.data.getTime()>d.value&&(w(b=this._getOrReturnCtx(a,b),{code:s.too_big,message:d.message,inclusive:!0,exact:!1,maximum:d.value,type:"date"}),c.dirty()):e.assertNever(d);return{status:c.value,value:new Date(a.data.getTime())}}_addCheck(a){return new _({...this._def,checks:[...this._def.checks,a]})}min(a,b){return this._addCheck({kind:"min",value:a.getTime(),message:g.toString(b)})}max(a,b){return this._addCheck({kind:"max",value:a.getTime(),message:g.toString(b)})}get minDate(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return null!=a?new Date(a):null}get maxDate(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return null!=a?new Date(a):null}}_.create=a=>new _({checks:[],coerce:a?.coerce||!1,typeName:h.ZodDate,...E(a)});class aa extends F{_parse(a){if(this._getType(a)!==q.symbol){let b=this._getOrReturnCtx(a);return w(b,{code:s.invalid_type,expected:q.symbol,received:b.parsedType}),y}return A(a.data)}}aa.create=a=>new aa({typeName:h.ZodSymbol,...E(a)});class ab extends F{_parse(a){if(this._getType(a)!==q.undefined){let b=this._getOrReturnCtx(a);return w(b,{code:s.invalid_type,expected:q.undefined,received:b.parsedType}),y}return A(a.data)}}ab.create=a=>new ab({typeName:h.ZodUndefined,...E(a)});class ac extends F{_parse(a){if(this._getType(a)!==q.null){let b=this._getOrReturnCtx(a);return w(b,{code:s.invalid_type,expected:q.null,received:b.parsedType}),y}return A(a.data)}}ac.create=a=>new ac({typeName:h.ZodNull,...E(a)});class ad extends F{constructor(){super(...arguments),this._any=!0}_parse(a){return A(a.data)}}ad.create=a=>new ad({typeName:h.ZodAny,...E(a)});class ae extends F{constructor(){super(...arguments),this._unknown=!0}_parse(a){return A(a.data)}}ae.create=a=>new ae({typeName:h.ZodUnknown,...E(a)});class af extends F{_parse(a){let b=this._getOrReturnCtx(a);return w(b,{code:s.invalid_type,expected:q.never,received:b.parsedType}),y}}af.create=a=>new af({typeName:h.ZodNever,...E(a)});class ag extends F{_parse(a){if(this._getType(a)!==q.undefined){let b=this._getOrReturnCtx(a);return w(b,{code:s.invalid_type,expected:q.void,received:b.parsedType}),y}return A(a.data)}}ag.create=a=>new ag({typeName:h.ZodVoid,...E(a)});class ah extends F{_parse(a){let{ctx:b,status:c}=this._processInputParams(a),d=this._def;if(b.parsedType!==q.array)return w(b,{code:s.invalid_type,expected:q.array,received:b.parsedType}),y;if(null!==d.exactLength){let a=b.data.length>d.exactLength.value,e=b.data.length<d.exactLength.value;(a||e)&&(w(b,{code:a?s.too_big:s.too_small,minimum:e?d.exactLength.value:void 0,maximum:a?d.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:d.exactLength.message}),c.dirty())}if(null!==d.minLength&&b.data.length<d.minLength.value&&(w(b,{code:s.too_small,minimum:d.minLength.value,type:"array",inclusive:!0,exact:!1,message:d.minLength.message}),c.dirty()),null!==d.maxLength&&b.data.length>d.maxLength.value&&(w(b,{code:s.too_big,maximum:d.maxLength.value,type:"array",inclusive:!0,exact:!1,message:d.maxLength.message}),c.dirty()),b.common.async)return Promise.all([...b.data].map((a,c)=>d.type._parseAsync(new C(b,a,b.path,c)))).then(a=>x.mergeArray(c,a));let e=[...b.data].map((a,c)=>d.type._parseSync(new C(b,a,b.path,c)));return x.mergeArray(c,e)}get element(){return this._def.type}min(a,b){return new ah({...this._def,minLength:{value:a,message:g.toString(b)}})}max(a,b){return new ah({...this._def,maxLength:{value:a,message:g.toString(b)}})}length(a,b){return new ah({...this._def,exactLength:{value:a,message:g.toString(b)}})}nonempty(a){return this.min(1,a)}}ah.create=(a,b)=>new ah({type:a,minLength:null,maxLength:null,exactLength:null,typeName:h.ZodArray,...E(b)});class ai extends F{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let a=this._def.shape(),b=e.objectKeys(a);return this._cached={shape:a,keys:b},this._cached}_parse(a){if(this._getType(a)!==q.object){let b=this._getOrReturnCtx(a);return w(b,{code:s.invalid_type,expected:q.object,received:b.parsedType}),y}let{status:b,ctx:c}=this._processInputParams(a),{shape:d,keys:e}=this._getCached(),f=[];if(!(this._def.catchall instanceof af&&"strip"===this._def.unknownKeys))for(let a in c.data)e.includes(a)||f.push(a);let g=[];for(let a of e){let b=d[a],e=c.data[a];g.push({key:{status:"valid",value:a},value:b._parse(new C(c,e,c.path,a)),alwaysSet:a in c.data})}if(this._def.catchall instanceof af){let a=this._def.unknownKeys;if("passthrough"===a)for(let a of f)g.push({key:{status:"valid",value:a},value:{status:"valid",value:c.data[a]}});else if("strict"===a)f.length>0&&(w(c,{code:s.unrecognized_keys,keys:f}),b.dirty());else if("strip"===a);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let a=this._def.catchall;for(let b of f){let d=c.data[b];g.push({key:{status:"valid",value:b},value:a._parse(new C(c,d,c.path,b)),alwaysSet:b in c.data})}}return c.common.async?Promise.resolve().then(async()=>{let a=[];for(let b of g){let c=await b.key,d=await b.value;a.push({key:c,value:d,alwaysSet:b.alwaysSet})}return a}).then(a=>x.mergeObjectSync(b,a)):x.mergeObjectSync(b,g)}get shape(){return this._def.shape()}strict(a){return g.errToObj,new ai({...this._def,unknownKeys:"strict",...void 0!==a?{errorMap:(b,c)=>{let d=this._def.errorMap?.(b,c).message??c.defaultError;return"unrecognized_keys"===b.code?{message:g.errToObj(a).message??d}:{message:d}}}:{}})}strip(){return new ai({...this._def,unknownKeys:"strip"})}passthrough(){return new ai({...this._def,unknownKeys:"passthrough"})}extend(a){return new ai({...this._def,shape:()=>({...this._def.shape(),...a})})}merge(a){return new ai({unknownKeys:a._def.unknownKeys,catchall:a._def.catchall,shape:()=>({...this._def.shape(),...a._def.shape()}),typeName:h.ZodObject})}setKey(a,b){return this.augment({[a]:b})}catchall(a){return new ai({...this._def,catchall:a})}pick(a){let b={};for(let c of e.objectKeys(a))a[c]&&this.shape[c]&&(b[c]=this.shape[c]);return new ai({...this._def,shape:()=>b})}omit(a){let b={};for(let c of e.objectKeys(this.shape))a[c]||(b[c]=this.shape[c]);return new ai({...this._def,shape:()=>b})}deepPartial(){return function a(b){if(b instanceof ai){let c={};for(let d in b.shape){let e=b.shape[d];c[d]=az.create(a(e))}return new ai({...b._def,shape:()=>c})}if(b instanceof ah)return new ah({...b._def,type:a(b.element)});if(b instanceof az)return az.create(a(b.unwrap()));if(b instanceof aA)return aA.create(a(b.unwrap()));if(b instanceof an)return an.create(b.items.map(b=>a(b)));else return b}(this)}partial(a){let b={};for(let c of e.objectKeys(this.shape)){let d=this.shape[c];a&&!a[c]?b[c]=d:b[c]=d.optional()}return new ai({...this._def,shape:()=>b})}required(a){let b={};for(let c of e.objectKeys(this.shape))if(a&&!a[c])b[c]=this.shape[c];else{let a=this.shape[c];for(;a instanceof az;)a=a._def.innerType;b[c]=a}return new ai({...this._def,shape:()=>b})}keyof(){return au(e.objectKeys(this.shape))}}ai.create=(a,b)=>new ai({shape:()=>a,unknownKeys:"strip",catchall:af.create(),typeName:h.ZodObject,...E(b)}),ai.strictCreate=(a,b)=>new ai({shape:()=>a,unknownKeys:"strict",catchall:af.create(),typeName:h.ZodObject,...E(b)}),ai.lazycreate=(a,b)=>new ai({shape:a,unknownKeys:"strip",catchall:af.create(),typeName:h.ZodObject,...E(b)});class aj extends F{_parse(a){let{ctx:b}=this._processInputParams(a),c=this._def.options;if(b.common.async)return Promise.all(c.map(async a=>{let c={...b,common:{...b.common,issues:[]},parent:null};return{result:await a._parseAsync({data:b.data,path:b.path,parent:c}),ctx:c}})).then(function(a){for(let b of a)if("valid"===b.result.status)return b.result;for(let c of a)if("dirty"===c.result.status)return b.common.issues.push(...c.ctx.common.issues),c.result;let c=a.map(a=>new t(a.ctx.common.issues));return w(b,{code:s.invalid_union,unionErrors:c}),y});{let a,d=[];for(let e of c){let c={...b,common:{...b.common,issues:[]},parent:null},f=e._parseSync({data:b.data,path:b.path,parent:c});if("valid"===f.status)return f;"dirty"!==f.status||a||(a={result:f,ctx:c}),c.common.issues.length&&d.push(c.common.issues)}if(a)return b.common.issues.push(...a.ctx.common.issues),a.result;let e=d.map(a=>new t(a));return w(b,{code:s.invalid_union,unionErrors:e}),y}}get options(){return this._def.options}}aj.create=(a,b)=>new aj({options:a,typeName:h.ZodUnion,...E(b)});let ak=a=>{if(a instanceof as)return ak(a.schema);if(a instanceof ay)return ak(a.innerType());if(a instanceof at)return[a.value];if(a instanceof av)return a.options;if(a instanceof aw)return e.objectValues(a.enum);else if(a instanceof aB)return ak(a._def.innerType);else if(a instanceof ab)return[void 0];else if(a instanceof ac)return[null];else if(a instanceof az)return[void 0,...ak(a.unwrap())];else if(a instanceof aA)return[null,...ak(a.unwrap())];else if(a instanceof aE)return ak(a.unwrap());else if(a instanceof aG)return ak(a.unwrap());else if(a instanceof aC)return ak(a._def.innerType);else return[]};class al extends F{_parse(a){let{ctx:b}=this._processInputParams(a);if(b.parsedType!==q.object)return w(b,{code:s.invalid_type,expected:q.object,received:b.parsedType}),y;let c=this.discriminator,d=b.data[c],e=this.optionsMap.get(d);return e?b.common.async?e._parseAsync({data:b.data,path:b.path,parent:b}):e._parseSync({data:b.data,path:b.path,parent:b}):(w(b,{code:s.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[c]}),y)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(a,b,c){let d=new Map;for(let c of b){let b=ak(c.shape[a]);if(!b.length)throw Error(`A discriminator value for key \`${a}\` could not be extracted from all schema options`);for(let e of b){if(d.has(e))throw Error(`Discriminator property ${String(a)} has duplicate value ${String(e)}`);d.set(e,c)}}return new al({typeName:h.ZodDiscriminatedUnion,discriminator:a,options:b,optionsMap:d,...E(c)})}}class am extends F{_parse(a){let{status:b,ctx:c}=this._processInputParams(a),d=(a,d)=>{if("aborted"===a.status||"aborted"===d.status)return y;let f=function a(b,c){let d=r(b),f=r(c);if(b===c)return{valid:!0,data:b};if(d===q.object&&f===q.object){let d=e.objectKeys(c),f=e.objectKeys(b).filter(a=>-1!==d.indexOf(a)),g={...b,...c};for(let d of f){let e=a(b[d],c[d]);if(!e.valid)return{valid:!1};g[d]=e.data}return{valid:!0,data:g}}if(d===q.array&&f===q.array){if(b.length!==c.length)return{valid:!1};let d=[];for(let e=0;e<b.length;e++){let f=a(b[e],c[e]);if(!f.valid)return{valid:!1};d.push(f.data)}return{valid:!0,data:d}}if(d===q.date&&f===q.date&&+b==+c)return{valid:!0,data:b};return{valid:!1}}(a.value,d.value);return f.valid?(("dirty"===a.status||"dirty"===d.status)&&b.dirty(),{status:b.value,value:f.data}):(w(c,{code:s.invalid_intersection_types}),y)};return c.common.async?Promise.all([this._def.left._parseAsync({data:c.data,path:c.path,parent:c}),this._def.right._parseAsync({data:c.data,path:c.path,parent:c})]).then(([a,b])=>d(a,b)):d(this._def.left._parseSync({data:c.data,path:c.path,parent:c}),this._def.right._parseSync({data:c.data,path:c.path,parent:c}))}}am.create=(a,b,c)=>new am({left:a,right:b,typeName:h.ZodIntersection,...E(c)});class an extends F{_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==q.array)return w(c,{code:s.invalid_type,expected:q.array,received:c.parsedType}),y;if(c.data.length<this._def.items.length)return w(c,{code:s.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),y;!this._def.rest&&c.data.length>this._def.items.length&&(w(c,{code:s.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),b.dirty());let d=[...c.data].map((a,b)=>{let d=this._def.items[b]||this._def.rest;return d?d._parse(new C(c,a,c.path,b)):null}).filter(a=>!!a);return c.common.async?Promise.all(d).then(a=>x.mergeArray(b,a)):x.mergeArray(b,d)}get items(){return this._def.items}rest(a){return new an({...this._def,rest:a})}}an.create=(a,b)=>{if(!Array.isArray(a))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new an({items:a,typeName:h.ZodTuple,rest:null,...E(b)})};class ao extends F{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==q.object)return w(c,{code:s.invalid_type,expected:q.object,received:c.parsedType}),y;let d=[],e=this._def.keyType,f=this._def.valueType;for(let a in c.data)d.push({key:e._parse(new C(c,a,c.path,a)),value:f._parse(new C(c,c.data[a],c.path,a)),alwaysSet:a in c.data});return c.common.async?x.mergeObjectAsync(b,d):x.mergeObjectSync(b,d)}get element(){return this._def.valueType}static create(a,b,c){return new ao(b instanceof F?{keyType:a,valueType:b,typeName:h.ZodRecord,...E(c)}:{keyType:X.create(),valueType:a,typeName:h.ZodRecord,...E(b)})}}class ap extends F{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==q.map)return w(c,{code:s.invalid_type,expected:q.map,received:c.parsedType}),y;let d=this._def.keyType,e=this._def.valueType,f=[...c.data.entries()].map(([a,b],f)=>({key:d._parse(new C(c,a,c.path,[f,"key"])),value:e._parse(new C(c,b,c.path,[f,"value"]))}));if(c.common.async){let a=new Map;return Promise.resolve().then(async()=>{for(let c of f){let d=await c.key,e=await c.value;if("aborted"===d.status||"aborted"===e.status)return y;("dirty"===d.status||"dirty"===e.status)&&b.dirty(),a.set(d.value,e.value)}return{status:b.value,value:a}})}{let a=new Map;for(let c of f){let d=c.key,e=c.value;if("aborted"===d.status||"aborted"===e.status)return y;("dirty"===d.status||"dirty"===e.status)&&b.dirty(),a.set(d.value,e.value)}return{status:b.value,value:a}}}}ap.create=(a,b,c)=>new ap({valueType:b,keyType:a,typeName:h.ZodMap,...E(c)});class aq extends F{_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==q.set)return w(c,{code:s.invalid_type,expected:q.set,received:c.parsedType}),y;let d=this._def;null!==d.minSize&&c.data.size<d.minSize.value&&(w(c,{code:s.too_small,minimum:d.minSize.value,type:"set",inclusive:!0,exact:!1,message:d.minSize.message}),b.dirty()),null!==d.maxSize&&c.data.size>d.maxSize.value&&(w(c,{code:s.too_big,maximum:d.maxSize.value,type:"set",inclusive:!0,exact:!1,message:d.maxSize.message}),b.dirty());let e=this._def.valueType;function f(a){let c=new Set;for(let d of a){if("aborted"===d.status)return y;"dirty"===d.status&&b.dirty(),c.add(d.value)}return{status:b.value,value:c}}let g=[...c.data.values()].map((a,b)=>e._parse(new C(c,a,c.path,b)));return c.common.async?Promise.all(g).then(a=>f(a)):f(g)}min(a,b){return new aq({...this._def,minSize:{value:a,message:g.toString(b)}})}max(a,b){return new aq({...this._def,maxSize:{value:a,message:g.toString(b)}})}size(a,b){return this.min(a,b).max(a,b)}nonempty(a){return this.min(1,a)}}aq.create=(a,b)=>new aq({valueType:a,minSize:null,maxSize:null,typeName:h.ZodSet,...E(b)});class ar extends F{constructor(){super(...arguments),this.validate=this.implement}_parse(a){let{ctx:b}=this._processInputParams(a);if(b.parsedType!==q.function)return w(b,{code:s.invalid_type,expected:q.function,received:b.parsedType}),y;function c(a,c){return v({data:a,path:b.path,errorMaps:[b.common.contextualErrorMap,b.schemaErrorMap,u,u].filter(a=>!!a),issueData:{code:s.invalid_arguments,argumentsError:c}})}function d(a,c){return v({data:a,path:b.path,errorMaps:[b.common.contextualErrorMap,b.schemaErrorMap,u,u].filter(a=>!!a),issueData:{code:s.invalid_return_type,returnTypeError:c}})}let e={errorMap:b.common.contextualErrorMap},f=b.data;if(this._def.returns instanceof ax){let a=this;return A(async function(...b){let g=new t([]),h=await a._def.args.parseAsync(b,e).catch(a=>{throw g.addIssue(c(b,a)),g}),i=await Reflect.apply(f,this,h);return await a._def.returns._def.type.parseAsync(i,e).catch(a=>{throw g.addIssue(d(i,a)),g})})}{let a=this;return A(function(...b){let g=a._def.args.safeParse(b,e);if(!g.success)throw new t([c(b,g.error)]);let h=Reflect.apply(f,this,g.data),i=a._def.returns.safeParse(h,e);if(!i.success)throw new t([d(h,i.error)]);return i.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...a){return new ar({...this._def,args:an.create(a).rest(ae.create())})}returns(a){return new ar({...this._def,returns:a})}implement(a){return this.parse(a)}strictImplement(a){return this.parse(a)}static create(a,b,c){return new ar({args:a||an.create([]).rest(ae.create()),returns:b||ae.create(),typeName:h.ZodFunction,...E(c)})}}class as extends F{get schema(){return this._def.getter()}_parse(a){let{ctx:b}=this._processInputParams(a);return this._def.getter()._parse({data:b.data,path:b.path,parent:b})}}as.create=(a,b)=>new as({getter:a,typeName:h.ZodLazy,...E(b)});class at extends F{_parse(a){if(a.data!==this._def.value){let b=this._getOrReturnCtx(a);return w(b,{received:b.data,code:s.invalid_literal,expected:this._def.value}),y}return{status:"valid",value:a.data}}get value(){return this._def.value}}function au(a,b){return new av({values:a,typeName:h.ZodEnum,...E(b)})}at.create=(a,b)=>new at({value:a,typeName:h.ZodLiteral,...E(b)});class av extends F{_parse(a){if("string"!=typeof a.data){let b=this._getOrReturnCtx(a),c=this._def.values;return w(b,{expected:e.joinValues(c),received:b.parsedType,code:s.invalid_type}),y}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(a.data)){let b=this._getOrReturnCtx(a),c=this._def.values;return w(b,{received:b.data,code:s.invalid_enum_value,options:c}),y}return A(a.data)}get options(){return this._def.values}get enum(){let a={};for(let b of this._def.values)a[b]=b;return a}get Values(){let a={};for(let b of this._def.values)a[b]=b;return a}get Enum(){let a={};for(let b of this._def.values)a[b]=b;return a}extract(a,b=this._def){return av.create(a,{...this._def,...b})}exclude(a,b=this._def){return av.create(this.options.filter(b=>!a.includes(b)),{...this._def,...b})}}av.create=au;class aw extends F{_parse(a){let b=e.getValidEnumValues(this._def.values),c=this._getOrReturnCtx(a);if(c.parsedType!==q.string&&c.parsedType!==q.number){let a=e.objectValues(b);return w(c,{expected:e.joinValues(a),received:c.parsedType,code:s.invalid_type}),y}if(this._cache||(this._cache=new Set(e.getValidEnumValues(this._def.values))),!this._cache.has(a.data)){let a=e.objectValues(b);return w(c,{received:c.data,code:s.invalid_enum_value,options:a}),y}return A(a.data)}get enum(){return this._def.values}}aw.create=(a,b)=>new aw({values:a,typeName:h.ZodNativeEnum,...E(b)});class ax extends F{unwrap(){return this._def.type}_parse(a){let{ctx:b}=this._processInputParams(a);return b.parsedType!==q.promise&&!1===b.common.async?(w(b,{code:s.invalid_type,expected:q.promise,received:b.parsedType}),y):A((b.parsedType===q.promise?b.data:Promise.resolve(b.data)).then(a=>this._def.type.parseAsync(a,{path:b.path,errorMap:b.common.contextualErrorMap})))}}ax.create=(a,b)=>new ax({type:a,typeName:h.ZodPromise,...E(b)});class ay extends F{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===h.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(a){let{status:b,ctx:c}=this._processInputParams(a),d=this._def.effect||null,f={addIssue:a=>{w(c,a),a.fatal?b.abort():b.dirty()},get path(){return c.path}};if(f.addIssue=f.addIssue.bind(f),"preprocess"===d.type){let a=d.transform(c.data,f);if(c.common.async)return Promise.resolve(a).then(async a=>{if("aborted"===b.value)return y;let d=await this._def.schema._parseAsync({data:a,path:c.path,parent:c});return"aborted"===d.status?y:"dirty"===d.status||"dirty"===b.value?z(d.value):d});{if("aborted"===b.value)return y;let d=this._def.schema._parseSync({data:a,path:c.path,parent:c});return"aborted"===d.status?y:"dirty"===d.status||"dirty"===b.value?z(d.value):d}}if("refinement"===d.type){let a=a=>{let b=d.refinement(a,f);if(c.common.async)return Promise.resolve(b);if(b instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(!1!==c.common.async)return this._def.schema._parseAsync({data:c.data,path:c.path,parent:c}).then(c=>"aborted"===c.status?y:("dirty"===c.status&&b.dirty(),a(c.value).then(()=>({status:b.value,value:c.value}))));{let d=this._def.schema._parseSync({data:c.data,path:c.path,parent:c});return"aborted"===d.status?y:("dirty"===d.status&&b.dirty(),a(d.value),{status:b.value,value:d.value})}}if("transform"===d.type)if(!1!==c.common.async)return this._def.schema._parseAsync({data:c.data,path:c.path,parent:c}).then(a=>"valid"!==a.status?y:Promise.resolve(d.transform(a.value,f)).then(a=>({status:b.value,value:a})));else{let a=this._def.schema._parseSync({data:c.data,path:c.path,parent:c});if("valid"!==a.status)return y;let e=d.transform(a.value,f);if(e instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:b.value,value:e}}e.assertNever(d)}}ay.create=(a,b,c)=>new ay({schema:a,typeName:h.ZodEffects,effect:b,...E(c)}),ay.createWithPreprocess=(a,b,c)=>new ay({schema:b,effect:{type:"preprocess",transform:a},typeName:h.ZodEffects,...E(c)});class az extends F{_parse(a){return this._getType(a)===q.undefined?A(void 0):this._def.innerType._parse(a)}unwrap(){return this._def.innerType}}az.create=(a,b)=>new az({innerType:a,typeName:h.ZodOptional,...E(b)});class aA extends F{_parse(a){return this._getType(a)===q.null?A(null):this._def.innerType._parse(a)}unwrap(){return this._def.innerType}}aA.create=(a,b)=>new aA({innerType:a,typeName:h.ZodNullable,...E(b)});class aB extends F{_parse(a){let{ctx:b}=this._processInputParams(a),c=b.data;return b.parsedType===q.undefined&&(c=this._def.defaultValue()),this._def.innerType._parse({data:c,path:b.path,parent:b})}removeDefault(){return this._def.innerType}}aB.create=(a,b)=>new aB({innerType:a,typeName:h.ZodDefault,defaultValue:"function"==typeof b.default?b.default:()=>b.default,...E(b)});class aC extends F{_parse(a){let{ctx:b}=this._processInputParams(a),c={...b,common:{...b.common,issues:[]}},d=this._def.innerType._parse({data:c.data,path:c.path,parent:{...c}});return B(d)?d.then(a=>({status:"valid",value:"valid"===a.status?a.value:this._def.catchValue({get error(){return new t(c.common.issues)},input:c.data})})):{status:"valid",value:"valid"===d.status?d.value:this._def.catchValue({get error(){return new t(c.common.issues)},input:c.data})}}removeCatch(){return this._def.innerType}}aC.create=(a,b)=>new aC({innerType:a,typeName:h.ZodCatch,catchValue:"function"==typeof b.catch?b.catch:()=>b.catch,...E(b)});class aD extends F{_parse(a){if(this._getType(a)!==q.nan){let b=this._getOrReturnCtx(a);return w(b,{code:s.invalid_type,expected:q.nan,received:b.parsedType}),y}return{status:"valid",value:a.data}}}aD.create=a=>new aD({typeName:h.ZodNaN,...E(a)}),Symbol("zod_brand");class aE extends F{_parse(a){let{ctx:b}=this._processInputParams(a),c=b.data;return this._def.type._parse({data:c,path:b.path,parent:b})}unwrap(){return this._def.type}}class aF extends F{_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.common.async)return(async()=>{let a=await this._def.in._parseAsync({data:c.data,path:c.path,parent:c});return"aborted"===a.status?y:"dirty"===a.status?(b.dirty(),z(a.value)):this._def.out._parseAsync({data:a.value,path:c.path,parent:c})})();{let a=this._def.in._parseSync({data:c.data,path:c.path,parent:c});return"aborted"===a.status?y:"dirty"===a.status?(b.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:c.path,parent:c})}}static create(a,b){return new aF({in:a,out:b,typeName:h.ZodPipeline})}}class aG extends F{_parse(a){let b=this._def.innerType._parse(a),c=a=>("valid"===a.status&&(a.value=Object.freeze(a.value)),a);return B(b)?b.then(a=>c(a)):c(b)}unwrap(){return this._def.innerType}}function aH(...a){return a.reduce((a,b)=>({...a,...null!=b?b:{}}),{})}async function aI(a,b){if(null==a)return Promise.resolve();let c=null==b?void 0:b.abortSignal;return new Promise((b,d)=>{if(null==c?void 0:c.aborted)return void d(aJ());let e=setTimeout(()=>{f(),b()},a),f=()=>{clearTimeout(e),null==c||c.removeEventListener("abort",g)},g=()=>{f(),d(aJ())};null==c||c.addEventListener("abort",g)})}function aJ(){return new DOMException("Delay was aborted","AbortError")}function aK(a){return Object.fromEntries([...a.headers])}aG.create=(a,b)=>new aG({innerType:a,typeName:h.ZodReadonly,...E(b)}),ai.lazycreate,function(a){a.ZodString="ZodString",a.ZodNumber="ZodNumber",a.ZodNaN="ZodNaN",a.ZodBigInt="ZodBigInt",a.ZodBoolean="ZodBoolean",a.ZodDate="ZodDate",a.ZodSymbol="ZodSymbol",a.ZodUndefined="ZodUndefined",a.ZodNull="ZodNull",a.ZodAny="ZodAny",a.ZodUnknown="ZodUnknown",a.ZodNever="ZodNever",a.ZodVoid="ZodVoid",a.ZodArray="ZodArray",a.ZodObject="ZodObject",a.ZodUnion="ZodUnion",a.ZodDiscriminatedUnion="ZodDiscriminatedUnion",a.ZodIntersection="ZodIntersection",a.ZodTuple="ZodTuple",a.ZodRecord="ZodRecord",a.ZodMap="ZodMap",a.ZodSet="ZodSet",a.ZodFunction="ZodFunction",a.ZodLazy="ZodLazy",a.ZodLiteral="ZodLiteral",a.ZodEnum="ZodEnum",a.ZodEffects="ZodEffects",a.ZodNativeEnum="ZodNativeEnum",a.ZodOptional="ZodOptional",a.ZodNullable="ZodNullable",a.ZodDefault="ZodDefault",a.ZodCatch="ZodCatch",a.ZodPromise="ZodPromise",a.ZodBranded="ZodBranded",a.ZodPipeline="ZodPipeline",a.ZodReadonly="ZodReadonly"}(h||(h={})),X.create,Y.create,aD.create,Z.create,$.create,_.create,aa.create,ab.create,ac.create,ad.create,ae.create,af.create,ag.create,ah.create,ai.create,ai.strictCreate,aj.create,al.create,am.create,an.create,ao.create,ap.create,aq.create,ar.create,as.create,at.create,av.create,aw.create,ax.create,ay.create,az.create,aA.create,ay.createWithPreprocess,aF.create;var aL=({prefix:a,size:b=16,alphabet:c="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:d="-"}={})=>{let e=()=>{let a=c.length,d=Array(b);for(let e=0;e<b;e++)d[e]=c[Math.random()*a|0];return d.join("")};if(null==a)return e;if(c.includes(d))throw new i.Di({argument:"separator",message:`The separator "${d}" must not be part of the alphabet "${c}".`});return()=>`${a}${d}${e()}`},aM=aL();function aN(a){return null==a?"unknown error":"string"==typeof a?a:a instanceof Error?a.message:JSON.stringify(a)}function aO(a){return(a instanceof Error||a instanceof DOMException)&&("AbortError"===a.name||"ResponseAborted"===a.name||"TimeoutError"===a.name)}var aP=["fetch failed","failed to fetch"];function aQ({error:a,url:b,requestBodyValues:c}){if(aO(a))return a;if(a instanceof TypeError&&aP.includes(a.message.toLowerCase())){let d=a.cause;if(null!=d)return new i.hL({message:`Cannot connect to API: ${d.message}`,cause:d,url:b,requestBodyValues:c,isRetryable:!0})}return a}function aR(a){return Object.fromEntries(Object.entries(a).filter(([a,b])=>null!=b))}var aS=()=>globalThis.fetch,aT=async({url:a,headers:b={},successfulResponseHandler:c,failedResponseHandler:d,abortSignal:e,fetch:f=aS()})=>{try{let g=await f(a,{method:"GET",headers:aR(b),signal:e}),h=aK(g);if(!g.ok){let b;try{b=await d({response:g,url:a,requestBodyValues:{}})}catch(b){if(aO(b)||i.hL.isInstance(b))throw b;throw new i.hL({message:"Failed to process error response",cause:b,statusCode:g.status,url:a,responseHeaders:h,requestBodyValues:{}})}throw b.value}try{return await c({response:g,url:a,requestBodyValues:{}})}catch(b){if(b instanceof Error&&(aO(b)||i.hL.isInstance(b)))throw b;throw new i.hL({message:"Failed to process successful response",cause:b,statusCode:g.status,url:a,responseHeaders:h,requestBodyValues:{}})}}catch(b){throw aQ({error:b,url:a,requestBodyValues:{}})}};function aU({mediaType:a,url:b,supportedUrls:c}){return b=b.toLowerCase(),a=a.toLowerCase(),Object.entries(c).map(([a,b])=>{let c=a.toLowerCase();return"*"===c||"*/*"===c?{mediaTypePrefix:"",regexes:b}:{mediaTypePrefix:c.replace(/\*/,""),regexes:b}}).filter(({mediaTypePrefix:b})=>a.startsWith(b)).flatMap(({regexes:a})=>a).some(a=>a.test(b))}function aV({apiKey:a,environmentVariableName:b,apiKeyParameterName:c="apiKey",description:d}){if("string"==typeof a)return a;if(null!=a)throw new i.Kq({message:`${d} API key must be a string.`});if("undefined"==typeof process)throw new i.Kq({message:`${d} API key is missing. Pass it using the '${c}' parameter. Environment variables is not supported in this environment.`});if(null==(a=process.env[b]))throw new i.Kq({message:`${d} API key is missing. Pass it using the '${c}' parameter or the ${b} environment variable.`});if("string"!=typeof a)throw new i.Kq({message:`${d} API key must be a string. The value of the ${b} environment variable is not a string.`});return a}function aW({settingValue:a,environmentVariableName:b}){return"string"==typeof a?a:null!=a||"undefined"==typeof process?void 0:null!=(a=process.env[b])&&"string"==typeof a?a:void 0}var aX=/"__proto__"\s*:/,aY=/"constructor"\s*:/;function aZ(a){let{stackTraceLimit:b}=Error;Error.stackTraceLimit=0;try{let b=JSON.parse(a);return null===b||"object"!=typeof b||!1===aX.test(a)&&!1===aY.test(a)?b:function(a){let b=[a];for(;b.length;){let a=b;for(let c of(b=[],a)){if(Object.prototype.hasOwnProperty.call(c,"__proto__")||Object.prototype.hasOwnProperty.call(c,"constructor")&&Object.prototype.hasOwnProperty.call(c.constructor,"prototype"))throw SyntaxError("Object contains forbidden prototype property");for(let a in c){let d=c[a];d&&"object"==typeof d&&b.push(d)}}}return a}(b)}finally{Error.stackTraceLimit=b}}var a$=Symbol.for("vercel.ai.validator");async function a_({value:a,schema:b}){let c=await a0({value:a,schema:b});if(!c.success)throw i.iM.wrap({value:a,cause:c.error});return c.value}async function a0({value:a,schema:b}){var c;let d="object"==typeof b&&null!==b&&a$ in b&&!0===b[a$]&&"validate"in b?b:(c=b,{[a$]:!0,validate:async a=>{let b=await c["~standard"].validate(a);return null==b.issues?{success:!0,value:b.value}:{success:!1,error:new i.iM({value:a,cause:b.issues})}}});try{if(null==d.validate)return{success:!0,value:a,rawValue:a};let b=await d.validate(a);if(b.success)return{success:!0,value:b.value,rawValue:a};return{success:!1,error:i.iM.wrap({value:a,cause:b.error}),rawValue:a}}catch(b){return{success:!1,error:i.iM.wrap({value:a,cause:b}),rawValue:a}}}async function a1({text:a,schema:b}){try{let c=aZ(a);if(null==b)return c;return a_({value:c,schema:b})}catch(b){if(i.u6.isInstance(b)||i.iM.isInstance(b))throw b;throw new i.u6({text:a,cause:b})}}async function a2({text:a,schema:b}){try{let c=aZ(a);if(null==b)return{success:!0,value:c,rawValue:c};return await a0({value:c,schema:b})}catch(b){return{success:!1,error:i.u6.isInstance(b)?b:new i.u6({text:a,cause:b}),rawValue:void 0}}}function a3({stream:a,schema:b}){return a.pipeThrough(new TextDecoderStream).pipeThrough(new l).pipeThrough(new TransformStream({async transform({data:a},c){"[DONE]"!==a&&c.enqueue(await a2({text:a,schema:b}))}}))}async function a4({provider:a,providerOptions:b,schema:c}){if((null==b?void 0:b[a])==null)return;let d=await a0({value:b[a],schema:c});if(!d.success)throw new i.Di({argument:"providerOptions",message:`invalid ${a} provider options`,cause:d.error});return d.value}var a5=()=>globalThis.fetch,a6=async({url:a,headers:b,body:c,failedResponseHandler:d,successfulResponseHandler:e,abortSignal:f,fetch:g})=>a7({url:a,headers:{"Content-Type":"application/json",...b},body:{content:JSON.stringify(c),values:c},failedResponseHandler:d,successfulResponseHandler:e,abortSignal:f,fetch:g}),a7=async({url:a,headers:b={},body:c,successfulResponseHandler:d,failedResponseHandler:e,abortSignal:f,fetch:g=a5()})=>{try{let h=await g(a,{method:"POST",headers:aR(b),body:c.content,signal:f}),j=aK(h);if(!h.ok){let b;try{b=await e({response:h,url:a,requestBodyValues:c.values})}catch(b){if(aO(b)||i.hL.isInstance(b))throw b;throw new i.hL({message:"Failed to process error response",cause:b,statusCode:h.status,url:a,responseHeaders:j,requestBodyValues:c.values})}throw b.value}try{return await d({response:h,url:a,requestBodyValues:c.values})}catch(b){if(b instanceof Error&&(aO(b)||i.hL.isInstance(b)))throw b;throw new i.hL({message:"Failed to process successful response",cause:b,statusCode:h.status,url:a,responseHeaders:j,requestBodyValues:c.values})}}catch(b){throw aQ({error:b,url:a,requestBodyValues:c.values})}};function a8({id:a,name:b,inputSchema:c}){return({execute:d,outputSchema:e,toModelOutput:f,onInputStart:g,onInputDelta:h,onInputAvailable:i,...j})=>({type:"provider-defined",id:a,name:b,args:j,inputSchema:c,outputSchema:e,execute:d,toModelOutput:f,onInputStart:g,onInputDelta:h,onInputAvailable:i})}function a9({id:a,name:b,inputSchema:c,outputSchema:d}){return({execute:e,toModelOutput:f,onInputStart:g,onInputDelta:h,onInputAvailable:i,...j})=>({type:"provider-defined",id:a,name:b,args:j,inputSchema:c,outputSchema:d,execute:e,toModelOutput:f,onInputStart:g,onInputDelta:h,onInputAvailable:i})}async function ba(a){return"function"==typeof a&&(a=a()),Promise.resolve(a)}var bb=({errorSchema:a,errorToMessage:b,isRetryable:c})=>async({response:d,url:e,requestBodyValues:f})=>{let g=await d.text(),h=aK(d);if(""===g.trim())return{responseHeaders:h,value:new i.hL({message:d.statusText,url:e,requestBodyValues:f,statusCode:d.status,responseHeaders:h,responseBody:g,isRetryable:null==c?void 0:c(d)})};try{let j=await a1({text:g,schema:a});return{responseHeaders:h,value:new i.hL({message:b(j),url:e,requestBodyValues:f,statusCode:d.status,responseHeaders:h,responseBody:g,data:j,isRetryable:null==c?void 0:c(d,j)})}}catch(a){return{responseHeaders:h,value:new i.hL({message:d.statusText,url:e,requestBodyValues:f,statusCode:d.status,responseHeaders:h,responseBody:g,isRetryable:null==c?void 0:c(d)})}}},bc=a=>async({response:b})=>{let c=aK(b);if(null==b.body)throw new i.Tt({});return{responseHeaders:c,value:a3({stream:b.body,schema:a})}},bd=a=>async({response:b,url:c,requestBodyValues:d})=>{let e=await b.text(),f=await a2({text:e,schema:a}),g=aK(b);if(!f.success)throw new i.hL({message:"Invalid JSON response",cause:f.error,statusCode:b.status,responseHeaders:g,responseBody:e,url:c,requestBodyValues:d});return{responseHeaders:g,value:f.value,rawValue:f.rawValue}},be=Symbol("Let zodToJsonSchema decide on which parser to use"),bf={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"};function bg(a,b){return br(a.type._def,b)}var bh=void 0,bi={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(void 0===bh&&(bh=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),bh),ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function bj(a,b){let c={type:"string"};if(a.checks)for(let d of a.checks)switch(d.kind){case"min":c.minLength="number"==typeof c.minLength?Math.max(c.minLength,d.value):d.value;break;case"max":c.maxLength="number"==typeof c.maxLength?Math.min(c.maxLength,d.value):d.value;break;case"email":switch(b.emailStrategy){case"format:email":bm(c,"email",d.message,b);break;case"format:idn-email":bm(c,"idn-email",d.message,b);break;case"pattern:zod":bn(c,bi.email,d.message,b)}break;case"url":bm(c,"uri",d.message,b);break;case"uuid":bm(c,"uuid",d.message,b);break;case"regex":bn(c,d.regex,d.message,b);break;case"cuid":bn(c,bi.cuid,d.message,b);break;case"cuid2":bn(c,bi.cuid2,d.message,b);break;case"startsWith":bn(c,RegExp(`^${bk(d.value,b)}`),d.message,b);break;case"endsWith":bn(c,RegExp(`${bk(d.value,b)}$`),d.message,b);break;case"datetime":bm(c,"date-time",d.message,b);break;case"date":bm(c,"date",d.message,b);break;case"time":bm(c,"time",d.message,b);break;case"duration":bm(c,"duration",d.message,b);break;case"length":c.minLength="number"==typeof c.minLength?Math.max(c.minLength,d.value):d.value,c.maxLength="number"==typeof c.maxLength?Math.min(c.maxLength,d.value):d.value;break;case"includes":bn(c,RegExp(bk(d.value,b)),d.message,b);break;case"ip":"v6"!==d.version&&bm(c,"ipv4",d.message,b),"v4"!==d.version&&bm(c,"ipv6",d.message,b);break;case"base64url":bn(c,bi.base64url,d.message,b);break;case"jwt":bn(c,bi.jwt,d.message,b);break;case"cidr":"v6"!==d.version&&bn(c,bi.ipv4Cidr,d.message,b),"v4"!==d.version&&bn(c,bi.ipv6Cidr,d.message,b);break;case"emoji":bn(c,bi.emoji(),d.message,b);break;case"ulid":bn(c,bi.ulid,d.message,b);break;case"base64":switch(b.base64Strategy){case"format:binary":bm(c,"binary",d.message,b);break;case"contentEncoding:base64":c.contentEncoding="base64";break;case"pattern:zod":bn(c,bi.base64,d.message,b)}break;case"nanoid":bn(c,bi.nanoid,d.message,b)}return c}function bk(a,b){return"escape"===b.patternStrategy?function(a){let b="";for(let c=0;c<a.length;c++)bl.has(a[c])||(b+="\\"),b+=a[c];return b}(a):a}var bl=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function bm(a,b,c,d){var e;a.format||(null==(e=a.anyOf)?void 0:e.some(a=>a.format))?(a.anyOf||(a.anyOf=[]),a.format&&(a.anyOf.push({format:a.format}),delete a.format),a.anyOf.push({format:b,...c&&d.errorMessages&&{errorMessage:{format:c}}})):a.format=b}function bn(a,b,c,d){var e;a.pattern||(null==(e=a.allOf)?void 0:e.some(a=>a.pattern))?(a.allOf||(a.allOf=[]),a.pattern&&(a.allOf.push({pattern:a.pattern}),delete a.pattern),a.allOf.push({pattern:bo(b,d),...c&&d.errorMessages&&{errorMessage:{pattern:c}}})):a.pattern=bo(b,d)}function bo(a,b){var c;if(!b.applyRegexFlags||!a.flags)return a.source;let d={i:a.flags.includes("i"),m:a.flags.includes("m"),s:a.flags.includes("s")},e=d.i?a.source.toLowerCase():a.source,f="",g=!1,h=!1,i=!1;for(let a=0;a<e.length;a++){if(g){f+=e[a],g=!1;continue}if(d.i){if(h){if(e[a].match(/[a-z]/)){i?(f+=e[a],f+=`${e[a-2]}-${e[a]}`.toUpperCase(),i=!1):"-"===e[a+1]&&(null==(c=e[a+2])?void 0:c.match(/[a-z]/))?(f+=e[a],i=!0):f+=`${e[a]}${e[a].toUpperCase()}`;continue}}else if(e[a].match(/[a-z]/)){f+=`[${e[a]}${e[a].toUpperCase()}]`;continue}}if(d.m){if("^"===e[a]){f+=`(^|(?<=[\r
]))`;continue}else if("$"===e[a]){f+=`($|(?=[\r
]))`;continue}}if(d.s&&"."===e[a]){f+=h?`${e[a]}\r
`:`[${e[a]}\r
]`;continue}f+=e[a],"\\"===e[a]?g=!0:h&&"]"===e[a]?h=!1:h||"["!==e[a]||(h=!0)}try{new RegExp(f)}catch(c){return console.warn(`Could not convert regex pattern at ${b.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),a.source}return f}function bp(a,b){var c,d,e,f,g,i;let j={type:"object",additionalProperties:null!=(c=br(a.valueType._def,{...b,currentPath:[...b.currentPath,"additionalProperties"]}))?c:b.allowedAdditionalProperties};if((null==(d=a.keyType)?void 0:d._def.typeName)===h.ZodString&&(null==(e=a.keyType._def.checks)?void 0:e.length)){let{type:c,...d}=bj(a.keyType._def,b);return{...j,propertyNames:d}}if((null==(f=a.keyType)?void 0:f._def.typeName)===h.ZodEnum)return{...j,propertyNames:{enum:a.keyType._def.values}};if((null==(g=a.keyType)?void 0:g._def.typeName)===h.ZodBranded&&a.keyType._def.type._def.typeName===h.ZodString&&(null==(i=a.keyType._def.type._def.checks)?void 0:i.length)){let{type:c,...d}=bg(a.keyType._def,b);return{...j,propertyNames:d}}return j}var bq={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function br(a,b,c=!1){var d;let e=b.seen.get(a);if(b.override){let f=null==(d=b.override)?void 0:d.call(b,a,b,e,c);if(f!==be)return f}if(e&&!c){let a=bs(e,b);if(void 0!==a)return a}let f={def:a,path:b.currentPath,jsonSchema:void 0};b.seen.set(a,f);let g=((a,b,c)=>{switch(b){case h.ZodString:return bj(a,c);case h.ZodNumber:var d,e,f,g,i,j,k=a;let l={type:"number"};if(!k.checks)return l;for(let a of k.checks)switch(a.kind){case"int":l.type="integer";break;case"min":a.inclusive?l.minimum=a.value:l.exclusiveMinimum=a.value;break;case"max":a.inclusive?l.maximum=a.value:l.exclusiveMaximum=a.value;break;case"multipleOf":l.multipleOf=a.value}return l;case h.ZodObject:return function(a,b){let c={type:"object",properties:{}},d=[],e=a.shape();for(let a in e){let f=e[a];if(void 0===f||void 0===f._def)continue;let g=function(a){try{return a.isOptional()}catch(a){return!0}}(f),h=br(f._def,{...b,currentPath:[...b.currentPath,"properties",a],propertyPath:[...b.currentPath,"properties",a]});void 0!==h&&(c.properties[a]=h,g||d.push(a))}d.length&&(c.required=d);let f=function(a,b){if("ZodNever"!==a.catchall._def.typeName)return br(a.catchall._def,{...b,currentPath:[...b.currentPath,"additionalProperties"]});switch(a.unknownKeys){case"passthrough":return b.allowedAdditionalProperties;case"strict":return b.rejectedAdditionalProperties;case"strip":return"strict"===b.removeAdditionalStrategy?b.allowedAdditionalProperties:b.rejectedAdditionalProperties}}(a,b);return void 0!==f&&(c.additionalProperties=f),c}(a,c);case h.ZodBigInt:var m=a;let n={type:"integer",format:"int64"};if(!m.checks)return n;for(let a of m.checks)switch(a.kind){case"min":a.inclusive?n.minimum=a.value:n.exclusiveMinimum=a.value;break;case"max":a.inclusive?n.maximum=a.value:n.exclusiveMaximum=a.value;break;case"multipleOf":n.multipleOf=a.value}return n;case h.ZodBoolean:return{type:"boolean"};case h.ZodDate:return function a(b,c,d){let e=null!=d?d:c.dateStrategy;if(Array.isArray(e))return{anyOf:e.map((d,e)=>a(b,c,d))};switch(e){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":var f=b;let g={type:"integer",format:"unix-time"};for(let a of f.checks)switch(a.kind){case"min":g.minimum=a.value;break;case"max":g.maximum=a.value}return g}}(a,c);case h.ZodUndefined:return{not:{}};case h.ZodNull:return{type:"null"};case h.ZodArray:var o,p,q,r=a,s=c;let t={type:"array"};return(null==(o=r.type)?void 0:o._def)&&(null==(q=null==(p=r.type)?void 0:p._def)?void 0:q.typeName)!==h.ZodAny&&(t.items=br(r.type._def,{...s,currentPath:[...s.currentPath,"items"]})),r.minLength&&(t.minItems=r.minLength.value),r.maxLength&&(t.maxItems=r.maxLength.value),r.exactLength&&(t.minItems=r.exactLength.value,t.maxItems=r.exactLength.value),t;case h.ZodUnion:case h.ZodDiscriminatedUnion:return function(a,b){let c=a.options instanceof Map?Array.from(a.options.values()):a.options;if(c.every(a=>a._def.typeName in bq&&(!a._def.checks||!a._def.checks.length))){let a=c.reduce((a,b)=>{let c=bq[b._def.typeName];return c&&!a.includes(c)?[...a,c]:a},[]);return{type:a.length>1?a:a[0]}}if(c.every(a=>"ZodLiteral"===a._def.typeName&&!a.description)){let a=c.reduce((a,b)=>{let c=typeof b._def.value;switch(c){case"string":case"number":case"boolean":return[...a,c];case"bigint":return[...a,"integer"];case"object":if(null===b._def.value)return[...a,"null"];default:return a}},[]);if(a.length===c.length){let b=a.filter((a,b,c)=>c.indexOf(a)===b);return{type:b.length>1?b:b[0],enum:c.reduce((a,b)=>a.includes(b._def.value)?a:[...a,b._def.value],[])}}}else if(c.every(a=>"ZodEnum"===a._def.typeName))return{type:"string",enum:c.reduce((a,b)=>[...a,...b._def.values.filter(b=>!a.includes(b))],[])};var d=a,e=b;let f=(d.options instanceof Map?Array.from(d.options.values()):d.options).map((a,b)=>br(a._def,{...e,currentPath:[...e.currentPath,"anyOf",`${b}`]})).filter(a=>!!a&&(!e.strictUnions||"object"==typeof a&&Object.keys(a).length>0));return f.length?{anyOf:f}:void 0}(a,c);case h.ZodIntersection:var u=a,v=c;let w=[br(u.left._def,{...v,currentPath:[...v.currentPath,"allOf","0"]}),br(u.right._def,{...v,currentPath:[...v.currentPath,"allOf","1"]})].filter(a=>!!a),x=[];return w.forEach(a=>{if((!("type"in a)||"string"!==a.type)&&"allOf"in a)x.push(...a.allOf);else{let b=a;if("additionalProperties"in a&&!1===a.additionalProperties){let{additionalProperties:c,...d}=a;b=d}x.push(b)}}),x.length?{allOf:x}:void 0;case h.ZodTuple:return H=a,I=c,H.rest?{type:"array",minItems:H.items.length,items:H.items.map((a,b)=>br(a._def,{...I,currentPath:[...I.currentPath,"items",`${b}`]})).reduce((a,b)=>void 0===b?a:[...a,b],[]),additionalItems:br(H.rest._def,{...I,currentPath:[...I.currentPath,"additionalItems"]})}:{type:"array",minItems:H.items.length,maxItems:H.items.length,items:H.items.map((a,b)=>br(a._def,{...I,currentPath:[...I.currentPath,"items",`${b}`]})).reduce((a,b)=>void 0===b?a:[...a,b],[])};case h.ZodRecord:return bp(a,c);case h.ZodLiteral:var y=a;let z=typeof y.value;return"bigint"!==z&&"number"!==z&&"boolean"!==z&&"string"!==z?{type:Array.isArray(y.value)?"array":"object"}:{type:"bigint"===z?"integer":z,const:y.value};case h.ZodEnum:return{type:"string",enum:Array.from(a.values)};case h.ZodNativeEnum:var A=a;let B=A.values,C=Object.keys(A.values).filter(a=>"number"!=typeof B[B[a]]).map(a=>B[a]),D=Array.from(new Set(C.map(a=>typeof a)));return{type:1===D.length?"string"===D[0]?"string":"number":["string","number"],enum:C};case h.ZodNullable:var E=a,F=c;if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(E.innerType._def.typeName)&&(!E.innerType._def.checks||!E.innerType._def.checks.length))return{type:[bq[E.innerType._def.typeName],"null"]};let G=br(E.innerType._def,{...F,currentPath:[...F.currentPath,"anyOf","0"]});return G&&{anyOf:[G,{type:"null"}]};case h.ZodOptional:var H,I,J,K=a,L=c;if(L.currentPath.toString()===(null==(J=L.propertyPath)?void 0:J.toString()))return br(K.innerType._def,L);let M=br(K.innerType._def,{...L,currentPath:[...L.currentPath,"anyOf","1"]});return M?{anyOf:[{not:{}},M]}:{};case h.ZodMap:return d=a,"record"===(e=c).mapStrategy?bp(d,e):{type:"array",maxItems:125,items:{type:"array",items:[br(d.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||{},br(d.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||{}],minItems:2,maxItems:2}};case h.ZodSet:var N=a,O=c;let P={type:"array",uniqueItems:!0,items:br(N.valueType._def,{...O,currentPath:[...O.currentPath,"items"]})};return N.minSize&&(P.minItems=N.minSize.value),N.maxSize&&(P.maxItems=N.maxSize.value),P;case h.ZodLazy:return()=>a.getter()._def;case h.ZodPromise:return br(a.type._def,c);case h.ZodNaN:case h.ZodNever:return{not:{}};case h.ZodEffects:return f=a,"input"===(g=c).effectStrategy?br(f.schema._def,g):{};case h.ZodAny:case h.ZodUnknown:return{};case h.ZodDefault:return i=a,j=c,{...br(i.innerType._def,j),default:i.defaultValue()};case h.ZodBranded:return bg(a,c);case h.ZodReadonly:case h.ZodCatch:return br(a.innerType._def,c);case h.ZodPipeline:var Q=a,R=c;if("input"===R.pipeStrategy)return br(Q.in._def,R);if("output"===R.pipeStrategy)return br(Q.out._def,R);let S=br(Q.in._def,{...R,currentPath:[...R.currentPath,"allOf","0"]}),T=br(Q.out._def,{...R,currentPath:[...R.currentPath,"allOf",S?"1":"0"]});return{allOf:[S,T].filter(a=>void 0!==a)};case h.ZodFunction:case h.ZodVoid:case h.ZodSymbol:default:return}})(a,a.typeName,b),i="function"==typeof g?br(g(),b):g;if(i&&bt(a,b,i),b.postProcess){let c=b.postProcess(i,a,b);return f.jsonSchema=i,c}return f.jsonSchema=i,i}var bs=(a,b)=>{switch(b.$refStrategy){case"root":return{$ref:a.path.join("/")};case"relative":return{$ref:((a,b)=>{let c=0;for(;c<a.length&&c<b.length&&a[c]===b[c];c++);return[(a.length-c).toString(),...b.slice(c)].join("/")})(b.currentPath,a.path)};case"none":case"seen":if(a.path.length<b.currentPath.length&&a.path.every((a,c)=>b.currentPath[c]===a))return console.warn(`Recursive reference detected at ${b.currentPath.join("/")}! Defaulting to any`),{};return"seen"===b.$refStrategy?{}:void 0}},bt=(a,b,c)=>(a.description&&(c.description=a.description),c),bu=Symbol.for("vercel.ai.schema");function bv(a,{validate:b}={}){return{[bu]:!0,_type:void 0,[a$]:!0,jsonSchema:a,validate:b}}function bw(a){return null==a?bv({properties:{},additionalProperties:!1}):"object"==typeof a&&null!==a&&bu in a&&!0===a[bu]&&"jsonSchema"in a&&"validate"in a?a:function(a,b){var c;return"_zod"in a?bv(function(a,b){if(a instanceof m.rs){let c=new o(b),d={};for(let b of a._idmap.entries()){let[a,d]=b;c.process(d)}let e={},f={registry:a,uri:b?.uri,defs:d};for(let d of a._idmap.entries()){let[a,g]=d;e[a]=c.emit(g,{...b,external:f})}return Object.keys(d).length>0&&(e.__shared={["draft-2020-12"===c.target?"$defs":"definitions"]:d}),{schemas:e}}let c=new o(b);return c.process(a),c.emit(a,b)}(a,{target:"draft-7",io:"output",reused:"inline"}),{validate:async b=>{let c=await p.bp(a,b);return c.success?{success:!0,value:c.data}:{success:!1,error:c.error}}}):bv(((a,b)=>{var c;let d=(a=>{let b,c="string"==typeof(b=a)?{...bf,name:b}:{...bf,...b},d=void 0!==c.name?[...c.basePath,c.definitionPath,c.name]:c.basePath;return{...c,currentPath:d,propertyPath:void 0,seen:new Map(Object.entries(c.definitions).map(([a,b])=>[b._def,{def:b._def,path:[...c.basePath,c.definitionPath,a],jsonSchema:void 0}]))}})(b),e="object"==typeof b&&b.definitions?Object.entries(b.definitions).reduce((a,[b,c])=>{var e;return{...a,[b]:null!=(e=br(c._def,{...d,currentPath:[...d.basePath,d.definitionPath,b]},!0))?e:{}}},{}):void 0,f="string"==typeof b?b:(null==b?void 0:b.nameStrategy)==="title"||null==b?void 0:b.name,g=null!=(c=br(a._def,void 0===f?d:{...d,currentPath:[...d.basePath,d.definitionPath,f]},!1))?c:{},h="object"==typeof b&&void 0!==b.name&&"title"===b.nameStrategy?b.name:void 0;void 0!==h&&(g.title=h);let i=void 0===f?e?{...g,[d.definitionPath]:e}:g:{$ref:[..."relative"===d.$refStrategy?[]:d.basePath,d.definitionPath,f].join("/"),[d.definitionPath]:{...e,[f]:g}};return i.$schema="http://json-schema.org/draft-07/schema#",i})(a,{$refStrategy:(c=void 0,"none")}),{validate:async b=>{let c=await a.safeParseAsync(b);return c.success?{success:!0,value:c.data}:{success:!1,error:c.error}}})}(a)}var{btoa:bx,atob:by}=globalThis;function bz(a){let b=by(a.replace(/-/g,"+").replace(/_/g,"/"));return Uint8Array.from(b,a=>a.codePointAt(0))}function bA(a){let b="";for(let c=0;c<a.length;c++)b+=String.fromCodePoint(a[c]);return bx(b)}function bB(a){return a instanceof Uint8Array?bA(a):a}function bC(a){return null==a?void 0:a.replace(/\/$/,"")}async function*bD({execute:a,input:b,options:c}){let d=a(b,c);if(null!=d&&"function"==typeof d[Symbol.asyncIterator]){let a;for await(let b of d)a=b,yield{type:"preliminary",output:b};yield{type:"final",output:a}}else yield{type:"final",output:await d}}},67043:(a,b,c)=>{c.d(b,{fd:()=>e,rs:()=>d}),Symbol("ZodOutput"),Symbol("ZodInput");class d{constructor(){this._map=new Map,this._idmap=new Map}add(a,...b){let c=b[0];if(this._map.set(a,c),c&&"object"==typeof c&&"id"in c){if(this._idmap.has(c.id))throw Error(`ID ${c.id} already exists in the registry`);this._idmap.set(c.id,a)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(a){let b=this._map.get(a);return b&&"object"==typeof b&&"id"in b&&this._idmap.delete(b.id),this._map.delete(a),this}get(a){let b=a._zod.parent;if(b){let c={...this.get(b)??{}};delete c.id;let d={...c,...this._map.get(a)};return Object.keys(d).length?d:void 0}return this._map.get(a)}has(a){return this._map.has(a)}}let e=new d},67860:(a,b,c)=>{function d(a){let b=Object.values(a).filter(a=>"number"==typeof a);return Object.entries(a).filter(([a,c])=>-1===b.indexOf(+a)).map(([a,b])=>b)}function e(a,b){return"bigint"==typeof b?b.toString():b}function f(a){return{get value(){{let b=a();return Object.defineProperty(this,"value",{value:b}),b}}}}function g(a){return null==a}function h(a){let b=+!!a.startsWith("^"),c=a.endsWith("$")?a.length-1:a.length;return a.slice(b,c)}function i(a,b){let c=(a.toString().split(".")[1]||"").length,d=b.toString(),e=(d.split(".")[1]||"").length;if(0===e&&/\d?e-\d?/.test(d)){let a=d.match(/\d?e-(\d?)/);a?.[1]&&(e=Number.parseInt(a[1]))}let f=c>e?c:e;return Number.parseInt(a.toFixed(f).replace(".",""))%Number.parseInt(b.toFixed(f).replace(".",""))/10**f}c.d(b,{$f:()=>v,A2:()=>x,Gv:()=>q,LG:()=>i,NM:()=>y,OH:()=>F,PO:()=>f,QH:()=>H,Qd:()=>s,Rc:()=>L,UQ:()=>o,Up:()=>A,Vy:()=>m,W0:()=>D,X$:()=>C,ZV:()=>l,cJ:()=>B,cl:()=>g,gJ:()=>k,gx:()=>p,h1:()=>E,hI:()=>r,iR:()=>K,k8:()=>e,lQ:()=>I,mw:()=>G,o8:()=>w,p6:()=>h,qQ:()=>u,sn:()=>M,w5:()=>d,yG:()=>t,zH:()=>z});let j=Symbol("evaluating");function k(a,b,c){let d;Object.defineProperty(a,b,{get(){if(d!==j)return void 0===d&&(d=j,d=c()),d},set(c){Object.defineProperty(a,b,{value:c})},configurable:!0})}function l(a){return Object.create(Object.getPrototypeOf(a),Object.getOwnPropertyDescriptors(a))}function m(a,b,c){Object.defineProperty(a,b,{value:c,writable:!0,enumerable:!0,configurable:!0})}function n(...a){let b={};for(let c of a)Object.assign(b,Object.getOwnPropertyDescriptors(c));return Object.defineProperties({},b)}function o(a){return JSON.stringify(a)}let p="captureStackTrace"in Error?Error.captureStackTrace:(...a)=>{};function q(a){return"object"==typeof a&&null!==a&&!Array.isArray(a)}let r=f(()=>{if("undefined"!=typeof navigator&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return Function(""),!0}catch(a){return!1}});function s(a){if(!1===q(a))return!1;let b=a.constructor;if(void 0===b)return!0;let c=b.prototype;return!1!==q(c)&&!1!==Object.prototype.hasOwnProperty.call(c,"isPrototypeOf")}function t(a){return s(a)?{...a}:a}let u=new Set(["string","number","symbol"]);function v(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function w(a,b,c){let d=new a._zod.constr(b??a._zod.def);return(!b||c?.parent)&&(d._zod.parent=a),d}function x(a){if(!a)return{};if("string"==typeof a)return{error:()=>a};if(a?.message!==void 0){if(a?.error!==void 0)throw Error("Cannot specify both `message` and `error` params");a.error=a.message}return(delete a.message,"string"==typeof a.error)?{...a,error:()=>a.error}:a}function y(a){return Object.keys(a).filter(b=>"optional"===a[b]._zod.optin&&"optional"===a[b]._zod.optout)}let z={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-0x80000000,0x7fffffff],uint32:[0,0xffffffff],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function A(a,b){let c=a._zod.def,d=n(a._zod.def,{get shape(){let a={};for(let d in b){if(!(d in c.shape))throw Error(`Unrecognized key: "${d}"`);b[d]&&(a[d]=c.shape[d])}return m(this,"shape",a),a},checks:[]});return w(a,d)}function B(a,b){let c=a._zod.def,d=n(a._zod.def,{get shape(){let d={...a._zod.def.shape};for(let a in b){if(!(a in c.shape))throw Error(`Unrecognized key: "${a}"`);b[a]&&delete d[a]}return m(this,"shape",d),d},checks:[]});return w(a,d)}function C(a,b){if(!s(b))throw Error("Invalid input to extend: expected a plain object");let c=a._zod.def.checks;if(c&&c.length>0)throw Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");let d=n(a._zod.def,{get shape(){let c={...a._zod.def.shape,...b};return m(this,"shape",c),c},checks:[]});return w(a,d)}function D(a,b){if(!s(b))throw Error("Invalid input to safeExtend: expected a plain object");let c={...a._zod.def,get shape(){let c={...a._zod.def.shape,...b};return m(this,"shape",c),c},checks:a._zod.def.checks};return w(a,c)}function E(a,b){let c=n(a._zod.def,{get shape(){let c={...a._zod.def.shape,...b._zod.def.shape};return m(this,"shape",c),c},get catchall(){return b._zod.def.catchall},checks:[]});return w(a,c)}function F(a,b,c){let d=n(b._zod.def,{get shape(){let d=b._zod.def.shape,e={...d};if(c)for(let b in c){if(!(b in d))throw Error(`Unrecognized key: "${b}"`);c[b]&&(e[b]=a?new a({type:"optional",innerType:d[b]}):d[b])}else for(let b in d)e[b]=a?new a({type:"optional",innerType:d[b]}):d[b];return m(this,"shape",e),e},checks:[]});return w(b,d)}function G(a,b,c){let d=n(b._zod.def,{get shape(){let d=b._zod.def.shape,e={...d};if(c)for(let b in c){if(!(b in e))throw Error(`Unrecognized key: "${b}"`);c[b]&&(e[b]=new a({type:"nonoptional",innerType:d[b]}))}else for(let b in d)e[b]=new a({type:"nonoptional",innerType:d[b]});return m(this,"shape",e),e},checks:[]});return w(b,d)}function H(a,b=0){if(!0===a.aborted)return!0;for(let c=b;c<a.issues.length;c++)if(a.issues[c]?.continue!==!0)return!0;return!1}function I(a,b){return b.map(b=>(b.path??(b.path=[]),b.path.unshift(a),b))}function J(a){return"string"==typeof a?a:a?.message}function K(a,b,c){let d={...a,path:a.path??[]};return a.message||(d.message=J(a.inst?._zod.def?.error?.(a))??J(b?.error?.(a))??J(c.customError?.(a))??J(c.localeError?.(a))??"Invalid input"),delete d.inst,delete d.continue,b?.reportInput||delete d.input,d}function L(a){return Array.isArray(a)?"array":"string"==typeof a?"string":"unknown"}function M(...a){let[b,c,d]=a;return"string"==typeof b?{message:b,code:"custom",input:c,inst:d}:{...b}}},72667:(a,b,c)=>{c.d(b,{JM:()=>i,Kd:()=>h,Wk:()=>j,a$:()=>g});var d=c(73291),e=c(67860);let f=(a,b)=>{a.name="$ZodError",Object.defineProperty(a,"_zod",{value:a._zod,enumerable:!1}),Object.defineProperty(a,"issues",{value:b,enumerable:!1}),a.message=JSON.stringify(b,e.k8,2),Object.defineProperty(a,"toString",{value:()=>a.message,enumerable:!1})},g=(0,d.xI)("$ZodError",f),h=(0,d.xI)("$ZodError",f,{Parent:Error});function i(a,b=a=>a.message){let c={},d=[];for(let e of a.issues)e.path.length>0?(c[e.path[0]]=c[e.path[0]]||[],c[e.path[0]].push(b(e))):d.push(b(e));return{formErrors:d,fieldErrors:c}}function j(a,b){let c=b||function(a){return a.message},d={_errors:[]},e=a=>{for(let b of a.issues)if("invalid_union"===b.code&&b.errors.length)b.errors.map(a=>e({issues:a}));else if("invalid_key"===b.code)e({issues:b.issues});else if("invalid_element"===b.code)e({issues:b.issues});else if(0===b.path.length)d._errors.push(c(b));else{let a=d,e=0;for(;e<b.path.length;){let d=b.path[e];e===b.path.length-1?(a[d]=a[d]||{_errors:[]},a[d]._errors.push(c(b))):a[d]=a[d]||{_errors:[]},a=a[d],e++}}};return e(a),d}},73291:(a,b,c)=>{function d(a,b,c){function d(c,d){var e;for(let f in Object.defineProperty(c,"_zod",{value:c._zod??{},enumerable:!1}),(e=c._zod).traits??(e.traits=new Set),c._zod.traits.add(a),b(c,d),g.prototype)f in c||Object.defineProperty(c,f,{value:g.prototype[f].bind(c)});c._zod.constr=g,c._zod.def=d}let e=c?.Parent??Object;class f extends e{}function g(a){var b;let e=c?.Parent?new f:this;for(let c of(d(e,a),(b=e._zod).deferred??(b.deferred=[]),e._zod.deferred))c();return e}return Object.defineProperty(f,"name",{value:a}),Object.defineProperty(g,"init",{value:d}),Object.defineProperty(g,Symbol.hasInstance,{value:b=>!!c?.Parent&&b instanceof c.Parent||b?._zod?.traits?.has(a)}),Object.defineProperty(g,"name",{value:a}),g}c.d(b,{$W:()=>h,GT:()=>e,cV:()=>f,cr:()=>g,xI:()=>d}),Object.freeze({status:"aborted"}),Symbol("zod_brand");class e extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class f extends Error{constructor(a){super(`Encountered unidirectional transform during encode: ${a}`),this.name="ZodEncodeError"}}let g={};function h(a){return a&&Object.assign(g,a),g}},83401:(a,b,c)=>{c.d(b,{GW:()=>o,Mv:()=>m,Od:()=>i,R3:()=>t,Rb:()=>h,Tj:()=>g,VS:()=>r,bp:()=>l,e2:()=>n,or:()=>p,rh:()=>q,v_:()=>s,wG:()=>k,xL:()=>j});var d=c(73291),e=c(72667),f=c(67860);let g=a=>(b,c,e,g)=>{let h=e?Object.assign(e,{async:!1}):{async:!1},i=b._zod.run({value:c,issues:[]},h);if(i instanceof Promise)throw new d.GT;if(i.issues.length){let b=new(g?.Err??a)(i.issues.map(a=>f.iR(a,h,d.$W())));throw f.gx(b,g?.callee),b}return i.value};e.Kd;let h=a=>async(b,c,e,g)=>{let h=e?Object.assign(e,{async:!0}):{async:!0},i=b._zod.run({value:c,issues:[]},h);if(i instanceof Promise&&(i=await i),i.issues.length){let b=new(g?.Err??a)(i.issues.map(a=>f.iR(a,h,d.$W())));throw f.gx(b,g?.callee),b}return i.value};e.Kd;let i=a=>(b,c,g)=>{let h=g?{...g,async:!1}:{async:!1},i=b._zod.run({value:c,issues:[]},h);if(i instanceof Promise)throw new d.GT;return i.issues.length?{success:!1,error:new(a??e.a$)(i.issues.map(a=>f.iR(a,h,d.$W())))}:{success:!0,data:i.value}},j=i(e.Kd),k=a=>async(b,c,e)=>{let g=e?Object.assign(e,{async:!0}):{async:!0},h=b._zod.run({value:c,issues:[]},g);return h instanceof Promise&&(h=await h),h.issues.length?{success:!1,error:new a(h.issues.map(a=>f.iR(a,g,d.$W())))}:{success:!0,data:h.value}},l=k(e.Kd),m=a=>(b,c,d)=>{let e=d?Object.assign(d,{direction:"backward"}):{direction:"backward"};return g(a)(b,c,e)};e.Kd;let n=a=>(b,c,d)=>g(a)(b,c,d);e.Kd;let o=a=>async(b,c,d)=>{let e=d?Object.assign(d,{direction:"backward"}):{direction:"backward"};return h(a)(b,c,e)};e.Kd;let p=a=>async(b,c,d)=>h(a)(b,c,d);e.Kd;let q=a=>(b,c,d)=>{let e=d?Object.assign(d,{direction:"backward"}):{direction:"backward"};return i(a)(b,c,e)};e.Kd;let r=a=>(b,c,d)=>i(a)(b,c,d);e.Kd;let s=a=>async(b,c,d)=>{let e=d?Object.assign(d,{direction:"backward"}):{direction:"backward"};return k(a)(b,c,e)};e.Kd;let t=a=>async(b,c,d)=>k(a)(b,c,d);e.Kd},91944:(a,b,c)=>{c.d(b,{EB:()=>bv,bz:()=>bZ,YO:()=>b3,K3:()=>bM,zM:()=>bV,Ie:()=>cy,gM:()=>cb,k5:()=>cg,Nl:()=>cz,RZ:()=>cw,eu:()=>ci,_H:()=>b7,Zm:()=>b1,ch:()=>bX,ai:()=>bR,Ik:()=>b5,lq:()=>cl,g1:()=>ce,re:()=>b6,Yj:()=>bu,KC:()=>b9,L5:()=>b_});var d=c(73291);let e=/^[cC][^\s-]{8,}$/,f=/^[0-9a-z]+$/,g=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,h=/^[0-9a-vA-V]{20}$/,i=/^[A-Za-z0-9]{27}$/,j=/^[a-zA-Z0-9_-]{21}$/,k=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,l=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,m=a=>a?RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${a}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,n=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,o=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,p=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,q=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,r=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,s=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,t=/^[A-Za-z0-9_-]*$/,u=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,v=/^\+(?:[0-9]){6,14}[0-9]$/,w="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",x=RegExp(`^${w}$`);function y(a){let b="(?:[01]\\d|2[0-3]):[0-5]\\d";return"number"==typeof a.precision?-1===a.precision?`${b}`:0===a.precision?`${b}:[0-5]\\d`:`${b}:[0-5]\\d\\.\\d{${a.precision}}`:`${b}(?::[0-5]\\d(?:\\.\\d+)?)?`}let z=/^\d+$/,A=/^-?\d+(?:\.\d+)?/i,B=/true|false/i,C=/null/i,D=/^[^A-Z]*$/,E=/^[^a-z]*$/;var F=c(67860);let G=d.xI("$ZodCheck",(a,b)=>{var c;a._zod??(a._zod={}),a._zod.def=b,(c=a._zod).onattach??(c.onattach=[])}),H={number:"number",bigint:"bigint",object:"date"},I=d.xI("$ZodCheckLessThan",(a,b)=>{G.init(a,b);let c=H[typeof b.value];a._zod.onattach.push(a=>{let c=a._zod.bag,d=(b.inclusive?c.maximum:c.exclusiveMaximum)??1/0;b.value<d&&(b.inclusive?c.maximum=b.value:c.exclusiveMaximum=b.value)}),a._zod.check=d=>{(b.inclusive?d.value<=b.value:d.value<b.value)||d.issues.push({origin:c,code:"too_big",maximum:b.value,input:d.value,inclusive:b.inclusive,inst:a,continue:!b.abort})}}),J=d.xI("$ZodCheckGreaterThan",(a,b)=>{G.init(a,b);let c=H[typeof b.value];a._zod.onattach.push(a=>{let c=a._zod.bag,d=(b.inclusive?c.minimum:c.exclusiveMinimum)??-1/0;b.value>d&&(b.inclusive?c.minimum=b.value:c.exclusiveMinimum=b.value)}),a._zod.check=d=>{(b.inclusive?d.value>=b.value:d.value>b.value)||d.issues.push({origin:c,code:"too_small",minimum:b.value,input:d.value,inclusive:b.inclusive,inst:a,continue:!b.abort})}}),K=d.xI("$ZodCheckMultipleOf",(a,b)=>{G.init(a,b),a._zod.onattach.push(a=>{var c;(c=a._zod.bag).multipleOf??(c.multipleOf=b.value)}),a._zod.check=c=>{if(typeof c.value!=typeof b.value)throw Error("Cannot mix number and bigint in multiple_of check.");("bigint"==typeof c.value?c.value%b.value===BigInt(0):0===F.LG(c.value,b.value))||c.issues.push({origin:typeof c.value,code:"not_multiple_of",divisor:b.value,input:c.value,inst:a,continue:!b.abort})}}),L=d.xI("$ZodCheckNumberFormat",(a,b)=>{G.init(a,b),b.format=b.format||"float64";let c=b.format?.includes("int"),d=c?"int":"number",[e,f]=F.zH[b.format];a._zod.onattach.push(a=>{let d=a._zod.bag;d.format=b.format,d.minimum=e,d.maximum=f,c&&(d.pattern=z)}),a._zod.check=g=>{let h=g.value;if(c){if(!Number.isInteger(h))return void g.issues.push({expected:d,format:b.format,code:"invalid_type",continue:!1,input:h,inst:a});if(!Number.isSafeInteger(h))return void(h>0?g.issues.push({input:h,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:a,origin:d,continue:!b.abort}):g.issues.push({input:h,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:a,origin:d,continue:!b.abort}))}h<e&&g.issues.push({origin:"number",input:h,code:"too_small",minimum:e,inclusive:!0,inst:a,continue:!b.abort}),h>f&&g.issues.push({origin:"number",input:h,code:"too_big",maximum:f,inst:a})}}),M=d.xI("$ZodCheckMaxLength",(a,b)=>{var c;G.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return!F.cl(b)&&void 0!==b.length}),a._zod.onattach.push(a=>{let c=a._zod.bag.maximum??1/0;b.maximum<c&&(a._zod.bag.maximum=b.maximum)}),a._zod.check=c=>{let d=c.value;if(d.length<=b.maximum)return;let e=F.Rc(d);c.issues.push({origin:e,code:"too_big",maximum:b.maximum,inclusive:!0,input:d,inst:a,continue:!b.abort})}}),N=d.xI("$ZodCheckMinLength",(a,b)=>{var c;G.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return!F.cl(b)&&void 0!==b.length}),a._zod.onattach.push(a=>{let c=a._zod.bag.minimum??-1/0;b.minimum>c&&(a._zod.bag.minimum=b.minimum)}),a._zod.check=c=>{let d=c.value;if(d.length>=b.minimum)return;let e=F.Rc(d);c.issues.push({origin:e,code:"too_small",minimum:b.minimum,inclusive:!0,input:d,inst:a,continue:!b.abort})}}),O=d.xI("$ZodCheckLengthEquals",(a,b)=>{var c;G.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return!F.cl(b)&&void 0!==b.length}),a._zod.onattach.push(a=>{let c=a._zod.bag;c.minimum=b.length,c.maximum=b.length,c.length=b.length}),a._zod.check=c=>{let d=c.value,e=d.length;if(e===b.length)return;let f=F.Rc(d),g=e>b.length;c.issues.push({origin:f,...g?{code:"too_big",maximum:b.length}:{code:"too_small",minimum:b.length},inclusive:!0,exact:!0,input:c.value,inst:a,continue:!b.abort})}}),P=d.xI("$ZodCheckStringFormat",(a,b)=>{var c,d;G.init(a,b),a._zod.onattach.push(a=>{let c=a._zod.bag;c.format=b.format,b.pattern&&(c.patterns??(c.patterns=new Set),c.patterns.add(b.pattern))}),b.pattern?(c=a._zod).check??(c.check=c=>{b.pattern.lastIndex=0,b.pattern.test(c.value)||c.issues.push({origin:"string",code:"invalid_format",format:b.format,input:c.value,...b.pattern?{pattern:b.pattern.toString()}:{},inst:a,continue:!b.abort})}):(d=a._zod).check??(d.check=()=>{})}),Q=d.xI("$ZodCheckRegex",(a,b)=>{P.init(a,b),a._zod.check=c=>{b.pattern.lastIndex=0,b.pattern.test(c.value)||c.issues.push({origin:"string",code:"invalid_format",format:"regex",input:c.value,pattern:b.pattern.toString(),inst:a,continue:!b.abort})}}),R=d.xI("$ZodCheckLowerCase",(a,b)=>{b.pattern??(b.pattern=D),P.init(a,b)}),S=d.xI("$ZodCheckUpperCase",(a,b)=>{b.pattern??(b.pattern=E),P.init(a,b)}),T=d.xI("$ZodCheckIncludes",(a,b)=>{G.init(a,b);let c=F.$f(b.includes),d=new RegExp("number"==typeof b.position?`^.{${b.position}}${c}`:c);b.pattern=d,a._zod.onattach.push(a=>{let b=a._zod.bag;b.patterns??(b.patterns=new Set),b.patterns.add(d)}),a._zod.check=c=>{c.value.includes(b.includes,b.position)||c.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:b.includes,input:c.value,inst:a,continue:!b.abort})}}),U=d.xI("$ZodCheckStartsWith",(a,b)=>{G.init(a,b);let c=RegExp(`^${F.$f(b.prefix)}.*`);b.pattern??(b.pattern=c),a._zod.onattach.push(a=>{let b=a._zod.bag;b.patterns??(b.patterns=new Set),b.patterns.add(c)}),a._zod.check=c=>{c.value.startsWith(b.prefix)||c.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:b.prefix,input:c.value,inst:a,continue:!b.abort})}}),V=d.xI("$ZodCheckEndsWith",(a,b)=>{G.init(a,b);let c=RegExp(`.*${F.$f(b.suffix)}$`);b.pattern??(b.pattern=c),a._zod.onattach.push(a=>{let b=a._zod.bag;b.patterns??(b.patterns=new Set),b.patterns.add(c)}),a._zod.check=c=>{c.value.endsWith(b.suffix)||c.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:b.suffix,input:c.value,inst:a,continue:!b.abort})}}),W=d.xI("$ZodCheckOverwrite",(a,b)=>{G.init(a,b),a._zod.check=a=>{a.value=b.tx(a.value)}});class X{constructor(a=[]){this.content=[],this.indent=0,this&&(this.args=a)}indented(a){this.indent+=1,a(this),this.indent-=1}write(a){if("function"==typeof a){a(this,{execution:"sync"}),a(this,{execution:"async"});return}let b=a.split("\n").filter(a=>a),c=Math.min(...b.map(a=>a.length-a.trimStart().length));for(let a of b.map(a=>a.slice(c)).map(a=>" ".repeat(2*this.indent)+a))this.content.push(a)}compile(){return Function(...this?.args,[...(this?.content??[""]).map(a=>`  ${a}`)].join("\n"))}}var Y=c(83401);let Z={major:4,minor:1,patch:5},$=d.xI("$ZodType",(a,b)=>{var c;a??(a={}),a._zod.def=b,a._zod.bag=a._zod.bag||{},a._zod.version=Z;let e=[...a._zod.def.checks??[]];for(let b of(a._zod.traits.has("$ZodCheck")&&e.unshift(a),e))for(let c of b._zod.onattach)c(a);if(0===e.length)(c=a._zod).deferred??(c.deferred=[]),a._zod.deferred?.push(()=>{a._zod.run=a._zod.parse});else{let b=(a,b,c)=>{let e,f=F.QH(a);for(let g of b){if(g._zod.def.when){if(!g._zod.def.when(a))continue}else if(f)continue;let b=a.issues.length,h=g._zod.check(a);if(h instanceof Promise&&c?.async===!1)throw new d.GT;if(e||h instanceof Promise)e=(e??Promise.resolve()).then(async()=>{await h,a.issues.length!==b&&(f||(f=F.QH(a,b)))});else{if(a.issues.length===b)continue;f||(f=F.QH(a,b))}}return e?e.then(()=>a):a},c=(c,f,g)=>{if(F.QH(c))return c.aborted=!0,c;let h=b(f,e,g);if(h instanceof Promise){if(!1===g.async)throw new d.GT;return h.then(b=>a._zod.parse(b,g))}return a._zod.parse(h,g)};a._zod.run=(f,g)=>{if(g.skipChecks)return a._zod.parse(f,g);if("backward"===g.direction){let b=a._zod.parse({value:f.value,issues:[]},{...g,skipChecks:!0});return b instanceof Promise?b.then(a=>c(a,f,g)):c(b,f,g)}let h=a._zod.parse(f,g);if(h instanceof Promise){if(!1===g.async)throw new d.GT;return h.then(a=>b(a,e,g))}return b(h,e,g)}}a["~standard"]={validate:b=>{try{let c=(0,Y.xL)(a,b);return c.success?{value:c.data}:{issues:c.error?.issues}}catch(c){return(0,Y.bp)(a,b).then(a=>a.success?{value:a.data}:{issues:a.error?.issues})}},vendor:"zod",version:1}}),_=d.xI("$ZodString",(a,b)=>{$.init(a,b),a._zod.pattern=[...a?._zod.bag?.patterns??[]].pop()??(a=>{let b=a?`[\\s\\S]{${a?.minimum??0},${a?.maximum??""}}`:"[\\s\\S]*";return RegExp(`^${b}$`)})(a._zod.bag),a._zod.parse=(c,d)=>{if(b.coerce)try{c.value=String(c.value)}catch(a){}return"string"==typeof c.value||c.issues.push({expected:"string",code:"invalid_type",input:c.value,inst:a}),c}}),aa=d.xI("$ZodStringFormat",(a,b)=>{P.init(a,b),_.init(a,b)}),ab=d.xI("$ZodGUID",(a,b)=>{b.pattern??(b.pattern=l),aa.init(a,b)}),ac=d.xI("$ZodUUID",(a,b)=>{if(b.version){let a={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[b.version];if(void 0===a)throw Error(`Invalid UUID version: "${b.version}"`);b.pattern??(b.pattern=m(a))}else b.pattern??(b.pattern=m());aa.init(a,b)}),ad=d.xI("$ZodEmail",(a,b)=>{b.pattern??(b.pattern=n),aa.init(a,b)}),ae=d.xI("$ZodURL",(a,b)=>{aa.init(a,b),a._zod.check=c=>{try{let d=c.value.trim(),e=new URL(d);b.hostname&&(b.hostname.lastIndex=0,b.hostname.test(e.hostname)||c.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:u.source,input:c.value,inst:a,continue:!b.abort})),b.protocol&&(b.protocol.lastIndex=0,b.protocol.test(e.protocol.endsWith(":")?e.protocol.slice(0,-1):e.protocol)||c.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:b.protocol.source,input:c.value,inst:a,continue:!b.abort})),b.normalize?c.value=e.href:c.value=d;return}catch(d){c.issues.push({code:"invalid_format",format:"url",input:c.value,inst:a,continue:!b.abort})}}}),af=d.xI("$ZodEmoji",(a,b)=>{b.pattern??(b.pattern=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),aa.init(a,b)}),ag=d.xI("$ZodNanoID",(a,b)=>{b.pattern??(b.pattern=j),aa.init(a,b)}),ah=d.xI("$ZodCUID",(a,b)=>{b.pattern??(b.pattern=e),aa.init(a,b)}),ai=d.xI("$ZodCUID2",(a,b)=>{b.pattern??(b.pattern=f),aa.init(a,b)}),aj=d.xI("$ZodULID",(a,b)=>{b.pattern??(b.pattern=g),aa.init(a,b)}),ak=d.xI("$ZodXID",(a,b)=>{b.pattern??(b.pattern=h),aa.init(a,b)}),al=d.xI("$ZodKSUID",(a,b)=>{b.pattern??(b.pattern=i),aa.init(a,b)}),am=d.xI("$ZodISODateTime",(a,b)=>{b.pattern??(b.pattern=function(a){let b=y({precision:a.precision}),c=["Z"];a.local&&c.push(""),a.offset&&c.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");let d=`${b}(?:${c.join("|")})`;return RegExp(`^${w}T(?:${d})$`)}(b)),aa.init(a,b)}),an=d.xI("$ZodISODate",(a,b)=>{b.pattern??(b.pattern=x),aa.init(a,b)}),ao=d.xI("$ZodISOTime",(a,b)=>{b.pattern??(b.pattern=RegExp(`^${y(b)}$`)),aa.init(a,b)}),ap=d.xI("$ZodISODuration",(a,b)=>{b.pattern??(b.pattern=k),aa.init(a,b)}),aq=d.xI("$ZodIPv4",(a,b)=>{b.pattern??(b.pattern=o),aa.init(a,b),a._zod.onattach.push(a=>{a._zod.bag.format="ipv4"})}),ar=d.xI("$ZodIPv6",(a,b)=>{b.pattern??(b.pattern=p),aa.init(a,b),a._zod.onattach.push(a=>{a._zod.bag.format="ipv6"}),a._zod.check=c=>{try{new URL(`http://[${c.value}]`)}catch{c.issues.push({code:"invalid_format",format:"ipv6",input:c.value,inst:a,continue:!b.abort})}}}),as=d.xI("$ZodCIDRv4",(a,b)=>{b.pattern??(b.pattern=q),aa.init(a,b)}),at=d.xI("$ZodCIDRv6",(a,b)=>{b.pattern??(b.pattern=r),aa.init(a,b),a._zod.check=c=>{let[d,e]=c.value.split("/");try{if(!e)throw Error();let a=Number(e);if(`${a}`!==e||a<0||a>128)throw Error();new URL(`http://[${d}]`)}catch{c.issues.push({code:"invalid_format",format:"cidrv6",input:c.value,inst:a,continue:!b.abort})}}});function au(a){if(""===a)return!0;if(a.length%4!=0)return!1;try{return atob(a),!0}catch{return!1}}let av=d.xI("$ZodBase64",(a,b)=>{b.pattern??(b.pattern=s),aa.init(a,b),a._zod.onattach.push(a=>{a._zod.bag.contentEncoding="base64"}),a._zod.check=c=>{au(c.value)||c.issues.push({code:"invalid_format",format:"base64",input:c.value,inst:a,continue:!b.abort})}}),aw=d.xI("$ZodBase64URL",(a,b)=>{b.pattern??(b.pattern=t),aa.init(a,b),a._zod.onattach.push(a=>{a._zod.bag.contentEncoding="base64url"}),a._zod.check=c=>{!function(a){if(!t.test(a))return!1;let b=a.replace(/[-_]/g,a=>"-"===a?"+":"/");return au(b.padEnd(4*Math.ceil(b.length/4),"="))}(c.value)&&c.issues.push({code:"invalid_format",format:"base64url",input:c.value,inst:a,continue:!b.abort})}}),ax=d.xI("$ZodE164",(a,b)=>{b.pattern??(b.pattern=v),aa.init(a,b)}),ay=d.xI("$ZodJWT",(a,b)=>{aa.init(a,b),a._zod.check=c=>{!function(a,b=null){try{let c=a.split(".");if(3!==c.length)return!1;let[d]=c;if(!d)return!1;let e=JSON.parse(atob(d));if("typ"in e&&e?.typ!=="JWT"||!e.alg||b&&(!("alg"in e)||e.alg!==b))return!1;return!0}catch{return!1}}(c.value,b.alg)&&c.issues.push({code:"invalid_format",format:"jwt",input:c.value,inst:a,continue:!b.abort})}}),az=d.xI("$ZodNumber",(a,b)=>{$.init(a,b),a._zod.pattern=a._zod.bag.pattern??A,a._zod.parse=(c,d)=>{if(b.coerce)try{c.value=Number(c.value)}catch(a){}let e=c.value;if("number"==typeof e&&!Number.isNaN(e)&&Number.isFinite(e))return c;let f="number"==typeof e?Number.isNaN(e)?"NaN":Number.isFinite(e)?void 0:"Infinity":void 0;return c.issues.push({expected:"number",code:"invalid_type",input:e,inst:a,...f?{received:f}:{}}),c}}),aA=d.xI("$ZodNumber",(a,b)=>{L.init(a,b),az.init(a,b)}),aB=d.xI("$ZodBoolean",(a,b)=>{$.init(a,b),a._zod.pattern=B,a._zod.parse=(c,d)=>{if(b.coerce)try{c.value=!!c.value}catch(a){}let e=c.value;return"boolean"==typeof e||c.issues.push({expected:"boolean",code:"invalid_type",input:e,inst:a}),c}}),aC=d.xI("$ZodNull",(a,b)=>{$.init(a,b),a._zod.pattern=C,a._zod.values=new Set([null]),a._zod.parse=(b,c)=>{let d=b.value;return null===d||b.issues.push({expected:"null",code:"invalid_type",input:d,inst:a}),b}}),aD=d.xI("$ZodAny",(a,b)=>{$.init(a,b),a._zod.parse=a=>a}),aE=d.xI("$ZodUnknown",(a,b)=>{$.init(a,b),a._zod.parse=a=>a}),aF=d.xI("$ZodNever",(a,b)=>{$.init(a,b),a._zod.parse=(b,c)=>(b.issues.push({expected:"never",code:"invalid_type",input:b.value,inst:a}),b)});function aG(a,b,c){a.issues.length&&b.issues.push(...F.lQ(c,a.issues)),b.value[c]=a.value}let aH=d.xI("$ZodArray",(a,b)=>{$.init(a,b),a._zod.parse=(c,d)=>{let e=c.value;if(!Array.isArray(e))return c.issues.push({expected:"array",code:"invalid_type",input:e,inst:a}),c;c.value=Array(e.length);let f=[];for(let a=0;a<e.length;a++){let g=e[a],h=b.element._zod.run({value:g,issues:[]},d);h instanceof Promise?f.push(h.then(b=>aG(b,c,a))):aG(h,c,a)}return f.length?Promise.all(f).then(()=>c):c}});function aI(a,b,c,d){a.issues.length&&b.issues.push(...F.lQ(c,a.issues)),void 0===a.value?c in d&&(b.value[c]=void 0):b.value[c]=a.value}function aJ(a){let b=Object.keys(a.shape);for(let c of b)if(!a.shape[c]._zod.traits.has("$ZodType"))throw Error(`Invalid element at key "${c}": expected a Zod schema`);let c=F.NM(a.shape);return{...a,keys:b,keySet:new Set(b),numKeys:b.length,optionalKeys:new Set(c)}}function aK(a,b,c,d,e,f){let g=[],h=e.keySet,i=e.catchall._zod,j=i.def.type;for(let e of Object.keys(b)){if(h.has(e))continue;if("never"===j){g.push(e);continue}let f=i.run({value:b[e],issues:[]},d);f instanceof Promise?a.push(f.then(a=>aI(a,c,e,b))):aI(f,c,e,b)}return(g.length&&c.issues.push({code:"unrecognized_keys",keys:g,input:b,inst:f}),a.length)?Promise.all(a).then(()=>c):c}let aL=d.xI("$ZodObject",(a,b)=>{let c;$.init(a,b);let d=F.PO(()=>aJ(b));F.gJ(a._zod,"propValues",()=>{let a=b.shape,c={};for(let b in a){let d=a[b]._zod;if(d.values)for(let a of(c[b]??(c[b]=new Set),d.values))c[b].add(a)}return c});let e=F.Gv,f=b.catchall;a._zod.parse=(b,g)=>{c??(c=d.value);let h=b.value;if(!e(h))return b.issues.push({expected:"object",code:"invalid_type",input:h,inst:a}),b;b.value={};let i=[],j=c.shape;for(let a of c.keys){let c=j[a]._zod.run({value:h[a],issues:[]},g);c instanceof Promise?i.push(c.then(c=>aI(c,b,a,h))):aI(c,b,a,h)}return f?aK(i,h,b,g,d.value,a):i.length?Promise.all(i).then(()=>b):b}}),aM=d.xI("$ZodObjectJIT",(a,b)=>{let c,e;aL.init(a,b);let f=a._zod.parse,g=F.PO(()=>aJ(b)),h=F.Gv,i=!d.cr.jitless,j=F.hI,k=i&&j.value,l=b.catchall;a._zod.parse=(d,j)=>{e??(e=g.value);let m=d.value;return h(m)?i&&k&&j?.async===!1&&!0!==j.jitless?(c||(c=(a=>{let b=new X(["shape","payload","ctx"]),c=g.value,d=a=>{let b=F.UQ(a);return`shape[${b}]._zod.run({ value: input[${b}], issues: [] }, ctx)`};b.write("const input = payload.value;");let e=Object.create(null),f=0;for(let a of c.keys)e[a]=`key_${f++}`;for(let a of(b.write("const newResult = {}"),c.keys)){let c=e[a],f=F.UQ(a);b.write(`const ${c} = ${d(a)};`),b.write(`
        if (${c}.issues.length) {
          payload.issues = payload.issues.concat(${c}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${f}, ...iss.path] : [${f}]
          })));
        }
        
        if (${c}.value === undefined) {
          if (${f} in input) {
            newResult[${f}] = undefined;
          }
        } else {
          newResult[${f}] = ${c}.value;
        }
      `)}b.write("payload.value = newResult;"),b.write("return payload;");let h=b.compile();return(b,c)=>h(a,b,c)})(b.shape)),d=c(d,j),l)?aK([],m,d,j,e,a):d:f(d,j):(d.issues.push({expected:"object",code:"invalid_type",input:m,inst:a}),d)}});function aN(a,b,c,e){for(let c of a)if(0===c.issues.length)return b.value=c.value,b;let f=a.filter(a=>!F.QH(a));return 1===f.length?(b.value=f[0].value,f[0]):(b.issues.push({code:"invalid_union",input:b.value,inst:c,errors:a.map(a=>a.issues.map(a=>F.iR(a,e,d.$W())))}),b)}let aO=d.xI("$ZodUnion",(a,b)=>{$.init(a,b),F.gJ(a._zod,"optin",()=>b.options.some(a=>"optional"===a._zod.optin)?"optional":void 0),F.gJ(a._zod,"optout",()=>b.options.some(a=>"optional"===a._zod.optout)?"optional":void 0),F.gJ(a._zod,"values",()=>{if(b.options.every(a=>a._zod.values))return new Set(b.options.flatMap(a=>Array.from(a._zod.values)))}),F.gJ(a._zod,"pattern",()=>{if(b.options.every(a=>a._zod.pattern)){let a=b.options.map(a=>a._zod.pattern);return RegExp(`^(${a.map(a=>F.p6(a.source)).join("|")})$`)}});let c=1===b.options.length,d=b.options[0]._zod.run;a._zod.parse=(e,f)=>{if(c)return d(e,f);let g=!1,h=[];for(let a of b.options){let b=a._zod.run({value:e.value,issues:[]},f);if(b instanceof Promise)h.push(b),g=!0;else{if(0===b.issues.length)return b;h.push(b)}}return g?Promise.all(h).then(b=>aN(b,e,a,f)):aN(h,e,a,f)}}),aP=d.xI("$ZodDiscriminatedUnion",(a,b)=>{aO.init(a,b);let c=a._zod.parse;F.gJ(a._zod,"propValues",()=>{let a={};for(let c of b.options){let d=c._zod.propValues;if(!d||0===Object.keys(d).length)throw Error(`Invalid discriminated union option at index "${b.options.indexOf(c)}"`);for(let[b,c]of Object.entries(d))for(let d of(a[b]||(a[b]=new Set),c))a[b].add(d)}return a});let d=F.PO(()=>{let a=b.options,c=new Map;for(let d of a){let a=d._zod.propValues?.[b.discriminator];if(!a||0===a.size)throw Error(`Invalid discriminated union option at index "${b.options.indexOf(d)}"`);for(let b of a){if(c.has(b))throw Error(`Duplicate discriminator value "${String(b)}"`);c.set(b,d)}}return c});a._zod.parse=(e,f)=>{let g=e.value;if(!F.Gv(g))return e.issues.push({code:"invalid_type",expected:"object",input:g,inst:a}),e;let h=d.value.get(g?.[b.discriminator]);return h?h._zod.run(e,f):b.unionFallback?c(e,f):(e.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:b.discriminator,input:g,path:[b.discriminator],inst:a}),e)}}),aQ=d.xI("$ZodIntersection",(a,b)=>{$.init(a,b),a._zod.parse=(a,c)=>{let d=a.value,e=b.left._zod.run({value:d,issues:[]},c),f=b.right._zod.run({value:d,issues:[]},c);return e instanceof Promise||f instanceof Promise?Promise.all([e,f]).then(([b,c])=>aR(a,b,c)):aR(a,e,f)}});function aR(a,b,c){if(b.issues.length&&a.issues.push(...b.issues),c.issues.length&&a.issues.push(...c.issues),F.QH(a))return a;let d=function a(b,c){if(b===c||b instanceof Date&&c instanceof Date&&+b==+c)return{valid:!0,data:b};if(F.Qd(b)&&F.Qd(c)){let d=Object.keys(c),e=Object.keys(b).filter(a=>-1!==d.indexOf(a)),f={...b,...c};for(let d of e){let e=a(b[d],c[d]);if(!e.valid)return{valid:!1,mergeErrorPath:[d,...e.mergeErrorPath]};f[d]=e.data}return{valid:!0,data:f}}if(Array.isArray(b)&&Array.isArray(c)){if(b.length!==c.length)return{valid:!1,mergeErrorPath:[]};let d=[];for(let e=0;e<b.length;e++){let f=a(b[e],c[e]);if(!f.valid)return{valid:!1,mergeErrorPath:[e,...f.mergeErrorPath]};d.push(f.data)}return{valid:!0,data:d}}return{valid:!1,mergeErrorPath:[]}}(b.value,c.value);if(!d.valid)throw Error(`Unmergable intersection. Error path: ${JSON.stringify(d.mergeErrorPath)}`);return a.value=d.data,a}let aS=d.xI("$ZodRecord",(a,b)=>{$.init(a,b),a._zod.parse=(c,e)=>{let f=c.value;if(!F.Qd(f))return c.issues.push({expected:"record",code:"invalid_type",input:f,inst:a}),c;let g=[];if(b.keyType._zod.values){let d,h=b.keyType._zod.values;for(let a of(c.value={},h))if("string"==typeof a||"number"==typeof a||"symbol"==typeof a){let d=b.valueType._zod.run({value:f[a],issues:[]},e);d instanceof Promise?g.push(d.then(b=>{b.issues.length&&c.issues.push(...F.lQ(a,b.issues)),c.value[a]=b.value})):(d.issues.length&&c.issues.push(...F.lQ(a,d.issues)),c.value[a]=d.value)}for(let a in f)h.has(a)||(d=d??[]).push(a);d&&d.length>0&&c.issues.push({code:"unrecognized_keys",input:f,inst:a,keys:d})}else for(let h of(c.value={},Reflect.ownKeys(f))){if("__proto__"===h)continue;let i=b.keyType._zod.run({value:h,issues:[]},e);if(i instanceof Promise)throw Error("Async schemas not supported in object keys currently");if(i.issues.length){c.issues.push({code:"invalid_key",origin:"record",issues:i.issues.map(a=>F.iR(a,e,d.$W())),input:h,path:[h],inst:a}),c.value[i.value]=i.value;continue}let j=b.valueType._zod.run({value:f[h],issues:[]},e);j instanceof Promise?g.push(j.then(a=>{a.issues.length&&c.issues.push(...F.lQ(h,a.issues)),c.value[i.value]=a.value})):(j.issues.length&&c.issues.push(...F.lQ(h,j.issues)),c.value[i.value]=j.value)}return g.length?Promise.all(g).then(()=>c):c}}),aT=d.xI("$ZodEnum",(a,b)=>{$.init(a,b);let c=F.w5(b.entries),d=new Set(c);a._zod.values=d,a._zod.pattern=RegExp(`^(${c.filter(a=>F.qQ.has(typeof a)).map(a=>"string"==typeof a?F.$f(a):a.toString()).join("|")})$`),a._zod.parse=(b,e)=>{let f=b.value;return d.has(f)||b.issues.push({code:"invalid_value",values:c,input:f,inst:a}),b}}),aU=d.xI("$ZodLiteral",(a,b)=>{if($.init(a,b),0===b.values.length)throw Error("Cannot create literal schema with no valid values");a._zod.values=new Set(b.values),a._zod.pattern=RegExp(`^(${b.values.map(a=>"string"==typeof a?F.$f(a):a?F.$f(a.toString()):String(a)).join("|")})$`),a._zod.parse=(c,d)=>{let e=c.value;return a._zod.values.has(e)||c.issues.push({code:"invalid_value",values:b.values,input:e,inst:a}),c}}),aV=d.xI("$ZodTransform",(a,b)=>{$.init(a,b),a._zod.parse=(c,e)=>{if("backward"===e.direction)throw new d.cV(a.constructor.name);let f=b.transform(c.value,c);if(e.async)return(f instanceof Promise?f:Promise.resolve(f)).then(a=>(c.value=a,c));if(f instanceof Promise)throw new d.GT;return c.value=f,c}});function aW(a,b){return a.issues.length&&void 0===b?{issues:[],value:void 0}:a}let aX=d.xI("$ZodOptional",(a,b)=>{$.init(a,b),a._zod.optin="optional",a._zod.optout="optional",F.gJ(a._zod,"values",()=>b.innerType._zod.values?new Set([...b.innerType._zod.values,void 0]):void 0),F.gJ(a._zod,"pattern",()=>{let a=b.innerType._zod.pattern;return a?RegExp(`^(${F.p6(a.source)})?$`):void 0}),a._zod.parse=(a,c)=>{if("optional"===b.innerType._zod.optin){let d=b.innerType._zod.run(a,c);return d instanceof Promise?d.then(b=>aW(b,a.value)):aW(d,a.value)}return void 0===a.value?a:b.innerType._zod.run(a,c)}}),aY=d.xI("$ZodNullable",(a,b)=>{$.init(a,b),F.gJ(a._zod,"optin",()=>b.innerType._zod.optin),F.gJ(a._zod,"optout",()=>b.innerType._zod.optout),F.gJ(a._zod,"pattern",()=>{let a=b.innerType._zod.pattern;return a?RegExp(`^(${F.p6(a.source)}|null)$`):void 0}),F.gJ(a._zod,"values",()=>b.innerType._zod.values?new Set([...b.innerType._zod.values,null]):void 0),a._zod.parse=(a,c)=>null===a.value?a:b.innerType._zod.run(a,c)}),aZ=d.xI("$ZodDefault",(a,b)=>{$.init(a,b),a._zod.optin="optional",F.gJ(a._zod,"values",()=>b.innerType._zod.values),a._zod.parse=(a,c)=>{if("backward"===c.direction)return b.innerType._zod.run(a,c);if(void 0===a.value)return a.value=b.defaultValue,a;let d=b.innerType._zod.run(a,c);return d instanceof Promise?d.then(a=>a$(a,b)):a$(d,b)}});function a$(a,b){return void 0===a.value&&(a.value=b.defaultValue),a}let a_=d.xI("$ZodPrefault",(a,b)=>{$.init(a,b),a._zod.optin="optional",F.gJ(a._zod,"values",()=>b.innerType._zod.values),a._zod.parse=(a,c)=>("backward"===c.direction||void 0===a.value&&(a.value=b.defaultValue),b.innerType._zod.run(a,c))}),a0=d.xI("$ZodNonOptional",(a,b)=>{$.init(a,b),F.gJ(a._zod,"values",()=>{let a=b.innerType._zod.values;return a?new Set([...a].filter(a=>void 0!==a)):void 0}),a._zod.parse=(c,d)=>{let e=b.innerType._zod.run(c,d);return e instanceof Promise?e.then(b=>a1(b,a)):a1(e,a)}});function a1(a,b){return a.issues.length||void 0!==a.value||a.issues.push({code:"invalid_type",expected:"nonoptional",input:a.value,inst:b}),a}let a2=d.xI("$ZodCatch",(a,b)=>{$.init(a,b),F.gJ(a._zod,"optin",()=>b.innerType._zod.optin),F.gJ(a._zod,"optout",()=>b.innerType._zod.optout),F.gJ(a._zod,"values",()=>b.innerType._zod.values),a._zod.parse=(a,c)=>{if("backward"===c.direction)return b.innerType._zod.run(a,c);let e=b.innerType._zod.run(a,c);return e instanceof Promise?e.then(e=>(a.value=e.value,e.issues.length&&(a.value=b.catchValue({...a,error:{issues:e.issues.map(a=>F.iR(a,c,d.$W()))},input:a.value}),a.issues=[]),a)):(a.value=e.value,e.issues.length&&(a.value=b.catchValue({...a,error:{issues:e.issues.map(a=>F.iR(a,c,d.$W()))},input:a.value}),a.issues=[]),a)}}),a3=d.xI("$ZodPipe",(a,b)=>{$.init(a,b),F.gJ(a._zod,"values",()=>b.in._zod.values),F.gJ(a._zod,"optin",()=>b.in._zod.optin),F.gJ(a._zod,"optout",()=>b.out._zod.optout),F.gJ(a._zod,"propValues",()=>b.in._zod.propValues),a._zod.parse=(a,c)=>{if("backward"===c.direction){let d=b.out._zod.run(a,c);return d instanceof Promise?d.then(a=>a4(a,b.in,c)):a4(d,b.in,c)}let d=b.in._zod.run(a,c);return d instanceof Promise?d.then(a=>a4(a,b.out,c)):a4(d,b.out,c)}});function a4(a,b,c){return a.issues.length?(a.aborted=!0,a):b._zod.run({value:a.value,issues:a.issues},c)}let a5=d.xI("$ZodReadonly",(a,b)=>{$.init(a,b),F.gJ(a._zod,"propValues",()=>b.innerType._zod.propValues),F.gJ(a._zod,"values",()=>b.innerType._zod.values),F.gJ(a._zod,"optin",()=>b.innerType._zod.optin),F.gJ(a._zod,"optout",()=>b.innerType._zod.optout),a._zod.parse=(a,c)=>{if("backward"===c.direction)return b.innerType._zod.run(a,c);let d=b.innerType._zod.run(a,c);return d instanceof Promise?d.then(a6):a6(d)}});function a6(a){return a.value=Object.freeze(a.value),a}let a7=d.xI("$ZodLazy",(a,b)=>{$.init(a,b),F.gJ(a._zod,"innerType",()=>b.getter()),F.gJ(a._zod,"pattern",()=>a._zod.innerType._zod.pattern),F.gJ(a._zod,"propValues",()=>a._zod.innerType._zod.propValues),F.gJ(a._zod,"optin",()=>a._zod.innerType._zod.optin??void 0),F.gJ(a._zod,"optout",()=>a._zod.innerType._zod.optout??void 0),a._zod.parse=(b,c)=>a._zod.innerType._zod.run(b,c)}),a8=d.xI("$ZodCustom",(a,b)=>{G.init(a,b),$.init(a,b),a._zod.parse=(a,b)=>a,a._zod.check=c=>{let d=c.value,e=b.fn(d);if(e instanceof Promise)return e.then(b=>a9(b,c,d,a));a9(e,c,d,a)}});function a9(a,b,c,d){if(!a){let a={code:"custom",input:c,inst:d,path:[...d._zod.def.path??[]],continue:!d._zod.def.abort};d._zod.def.params&&(a.params=d._zod.def.params),b.issues.push(F.sn(a))}}var ba=c(67043);function bb(a,b){return new a({type:"string",format:"guid",check:"string_format",abort:!1,...F.A2(b)})}function bc(a,b){return new a({type:"string",format:"base64",check:"string_format",abort:!1,...F.A2(b)})}function bd(a,b){return new I({check:"less_than",...F.A2(b),value:a,inclusive:!1})}function be(a,b){return new I({check:"less_than",...F.A2(b),value:a,inclusive:!0})}function bf(a,b){return new J({check:"greater_than",...F.A2(b),value:a,inclusive:!1})}function bg(a,b){return new J({check:"greater_than",...F.A2(b),value:a,inclusive:!0})}function bh(a,b){return new K({check:"multiple_of",...F.A2(b),value:a})}function bi(a,b){return new M({check:"max_length",...F.A2(b),maximum:a})}function bj(a,b){return new N({check:"min_length",...F.A2(b),minimum:a})}function bk(a,b){return new O({check:"length_equals",...F.A2(b),length:a})}function bl(a){return new W({check:"overwrite",tx:a})}let bm=d.xI("ZodISODateTime",(a,b)=>{am.init(a,b),bv.init(a,b)}),bn=d.xI("ZodISODate",(a,b)=>{an.init(a,b),bv.init(a,b)}),bo=d.xI("ZodISOTime",(a,b)=>{ao.init(a,b),bv.init(a,b)}),bp=d.xI("ZodISODuration",(a,b)=>{ap.init(a,b),bv.init(a,b)});var bq=c(13405);let br=d.xI("ZodType",(a,b)=>($.init(a,b),a.def=b,a.type=b.type,Object.defineProperty(a,"_def",{value:b}),a.check=(...c)=>a.clone({...b,checks:[...b.checks??[],...c.map(a=>"function"==typeof a?{_zod:{check:a,def:{check:"custom"},onattach:[]}}:a)]}),a.clone=(b,c)=>F.o8(a,b,c),a.brand=()=>a,a.register=(b,c)=>(b.add(a,c),a),a.parse=(b,c)=>bq.qg(a,b,c,{callee:a.parse}),a.safeParse=(b,c)=>bq.xL(a,b,c),a.parseAsync=async(b,c)=>bq.EJ(a,b,c,{callee:a.parseAsync}),a.safeParseAsync=async(b,c)=>bq.bp(a,b,c),a.spa=a.safeParseAsync,a.encode=(b,c)=>bq.lF(a,b,c),a.decode=(b,c)=>bq.D4(a,b,c),a.encodeAsync=async(b,c)=>bq.X$(a,b,c),a.decodeAsync=async(b,c)=>bq.Re(a,b,c),a.safeEncode=(b,c)=>bq.wy(a,b,c),a.safeDecode=(b,c)=>bq.ex(a,b,c),a.safeEncodeAsync=async(b,c)=>bq.EM(a,b,c),a.safeDecodeAsync=async(b,c)=>bq.yR(a,b,c),a.refine=(b,c)=>a.check(function(a,b={}){return new cx({type:"custom",check:"custom",fn:a,...F.A2(b)})}(b,c)),a.superRefine=b=>a.check(function(a){let b=function(a,b){let c=new G({check:"custom",...F.A2(void 0)});return c._zod.check=a,c}(c=>(c.addIssue=a=>{"string"==typeof a?c.issues.push(F.sn(a,c.value,b._zod.def)):(a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=c.value),a.inst??(a.inst=b),a.continue??(a.continue=!b._zod.def.abort),c.issues.push(F.sn(a)))},a(c.value,c)));return b}(b)),a.overwrite=b=>a.check(bl(b)),a.optional=()=>cl(a),a.nullable=()=>cn(a),a.nullish=()=>cl(cn(a)),a.nonoptional=b=>{var c,d;return c=a,d=b,new cq({type:"nonoptional",innerType:c,...F.A2(d)})},a.array=()=>b3(a),a.or=b=>b9([a,b]),a.and=b=>new cc({type:"intersection",left:a,right:b}),a.transform=b=>ct(a,new cj({type:"transform",transform:b})),a.default=b=>(function(a,b){return new co({type:"default",innerType:a,get defaultValue(){return"function"==typeof b?b():F.yG(b)}})})(a,b),a.prefault=b=>(function(a,b){return new cp({type:"prefault",innerType:a,get defaultValue(){return"function"==typeof b?b():F.yG(b)}})})(a,b),a.catch=b=>(function(a,b){return new cr({type:"catch",innerType:a,catchValue:"function"==typeof b?b:()=>b})})(a,b),a.pipe=b=>ct(a,b),a.readonly=()=>new cu({type:"readonly",innerType:a}),a.describe=b=>{let c=a.clone();return ba.fd.add(c,{description:b}),c},Object.defineProperty(a,"description",{get:()=>ba.fd.get(a)?.description,configurable:!0}),a.meta=(...b)=>{if(0===b.length)return ba.fd.get(a);let c=a.clone();return ba.fd.add(c,b[0]),c},a.isOptional=()=>a.safeParse(void 0).success,a.isNullable=()=>a.safeParse(null).success,a)),bs=d.xI("_ZodString",(a,b)=>{_.init(a,b),br.init(a,b);let c=a._zod.bag;a.format=c.format??null,a.minLength=c.minimum??null,a.maxLength=c.maximum??null,a.regex=(...b)=>a.check(function(a,b){return new Q({check:"string_format",format:"regex",...F.A2(b),pattern:a})}(...b)),a.includes=(...b)=>a.check(function(a,b){return new T({check:"string_format",format:"includes",...F.A2(b),includes:a})}(...b)),a.startsWith=(...b)=>a.check(function(a,b){return new U({check:"string_format",format:"starts_with",...F.A2(b),prefix:a})}(...b)),a.endsWith=(...b)=>a.check(function(a,b){return new V({check:"string_format",format:"ends_with",...F.A2(b),suffix:a})}(...b)),a.min=(...b)=>a.check(bj(...b)),a.max=(...b)=>a.check(bi(...b)),a.length=(...b)=>a.check(bk(...b)),a.nonempty=(...b)=>a.check(bj(1,...b)),a.lowercase=b=>a.check(new R({check:"string_format",format:"lowercase",...F.A2(b)})),a.uppercase=b=>a.check(new S({check:"string_format",format:"uppercase",...F.A2(b)})),a.trim=()=>a.check(bl(a=>a.trim())),a.normalize=(...b)=>a.check(function(a){return bl(b=>b.normalize(a))}(...b)),a.toLowerCase=()=>a.check(bl(a=>a.toLowerCase())),a.toUpperCase=()=>a.check(bl(a=>a.toUpperCase()))}),bt=d.xI("ZodString",(a,b)=>{_.init(a,b),bs.init(a,b),a.email=b=>a.check(new bw({type:"string",format:"email",check:"string_format",abort:!1,...F.A2(b)})),a.url=b=>a.check(new bz({type:"string",format:"url",check:"string_format",abort:!1,...F.A2(b)})),a.jwt=b=>a.check(new bP({type:"string",format:"jwt",check:"string_format",abort:!1,...F.A2(b)})),a.emoji=b=>a.check(new bA({type:"string",format:"emoji",check:"string_format",abort:!1,...F.A2(b)})),a.guid=b=>a.check(bb(bx,b)),a.uuid=b=>a.check(new by({type:"string",format:"uuid",check:"string_format",abort:!1,...F.A2(b)})),a.uuidv4=b=>a.check(new by({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...F.A2(b)})),a.uuidv6=b=>a.check(new by({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...F.A2(b)})),a.uuidv7=b=>a.check(new by({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...F.A2(b)})),a.nanoid=b=>a.check(new bB({type:"string",format:"nanoid",check:"string_format",abort:!1,...F.A2(b)})),a.guid=b=>a.check(bb(bx,b)),a.cuid=b=>a.check(new bC({type:"string",format:"cuid",check:"string_format",abort:!1,...F.A2(b)})),a.cuid2=b=>a.check(new bD({type:"string",format:"cuid2",check:"string_format",abort:!1,...F.A2(b)})),a.ulid=b=>a.check(new bE({type:"string",format:"ulid",check:"string_format",abort:!1,...F.A2(b)})),a.base64=b=>a.check(bc(bL,b)),a.base64url=b=>a.check(new bN({type:"string",format:"base64url",check:"string_format",abort:!1,...F.A2(b)})),a.xid=b=>a.check(new bF({type:"string",format:"xid",check:"string_format",abort:!1,...F.A2(b)})),a.ksuid=b=>a.check(new bG({type:"string",format:"ksuid",check:"string_format",abort:!1,...F.A2(b)})),a.ipv4=b=>a.check(new bH({type:"string",format:"ipv4",check:"string_format",abort:!1,...F.A2(b)})),a.ipv6=b=>a.check(new bI({type:"string",format:"ipv6",check:"string_format",abort:!1,...F.A2(b)})),a.cidrv4=b=>a.check(new bJ({type:"string",format:"cidrv4",check:"string_format",abort:!1,...F.A2(b)})),a.cidrv6=b=>a.check(new bK({type:"string",format:"cidrv6",check:"string_format",abort:!1,...F.A2(b)})),a.e164=b=>a.check(new bO({type:"string",format:"e164",check:"string_format",abort:!1,...F.A2(b)})),a.datetime=b=>a.check(function(a){return new bm({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...F.A2(a)})}(b)),a.date=b=>a.check(function(a){return new bn({type:"string",format:"date",check:"string_format",...F.A2(a)})}(b)),a.time=b=>a.check(function(a){return new bo({type:"string",format:"time",check:"string_format",precision:null,...F.A2(a)})}(b)),a.duration=b=>a.check(function(a){return new bp({type:"string",format:"duration",check:"string_format",...F.A2(a)})}(b))});function bu(a){return new bt({type:"string",...F.A2(a)})}let bv=d.xI("ZodStringFormat",(a,b)=>{aa.init(a,b),bs.init(a,b)}),bw=d.xI("ZodEmail",(a,b)=>{ad.init(a,b),bv.init(a,b)}),bx=d.xI("ZodGUID",(a,b)=>{ab.init(a,b),bv.init(a,b)}),by=d.xI("ZodUUID",(a,b)=>{ac.init(a,b),bv.init(a,b)}),bz=d.xI("ZodURL",(a,b)=>{ae.init(a,b),bv.init(a,b)}),bA=d.xI("ZodEmoji",(a,b)=>{af.init(a,b),bv.init(a,b)}),bB=d.xI("ZodNanoID",(a,b)=>{ag.init(a,b),bv.init(a,b)}),bC=d.xI("ZodCUID",(a,b)=>{ah.init(a,b),bv.init(a,b)}),bD=d.xI("ZodCUID2",(a,b)=>{ai.init(a,b),bv.init(a,b)}),bE=d.xI("ZodULID",(a,b)=>{aj.init(a,b),bv.init(a,b)}),bF=d.xI("ZodXID",(a,b)=>{ak.init(a,b),bv.init(a,b)}),bG=d.xI("ZodKSUID",(a,b)=>{al.init(a,b),bv.init(a,b)}),bH=d.xI("ZodIPv4",(a,b)=>{aq.init(a,b),bv.init(a,b)}),bI=d.xI("ZodIPv6",(a,b)=>{ar.init(a,b),bv.init(a,b)}),bJ=d.xI("ZodCIDRv4",(a,b)=>{as.init(a,b),bv.init(a,b)}),bK=d.xI("ZodCIDRv6",(a,b)=>{at.init(a,b),bv.init(a,b)}),bL=d.xI("ZodBase64",(a,b)=>{av.init(a,b),bv.init(a,b)});function bM(a){return bc(bL,a)}let bN=d.xI("ZodBase64URL",(a,b)=>{aw.init(a,b),bv.init(a,b)}),bO=d.xI("ZodE164",(a,b)=>{ax.init(a,b),bv.init(a,b)}),bP=d.xI("ZodJWT",(a,b)=>{ay.init(a,b),bv.init(a,b)}),bQ=d.xI("ZodNumber",(a,b)=>{az.init(a,b),br.init(a,b),a.gt=(b,c)=>a.check(bf(b,c)),a.gte=(b,c)=>a.check(bg(b,c)),a.min=(b,c)=>a.check(bg(b,c)),a.lt=(b,c)=>a.check(bd(b,c)),a.lte=(b,c)=>a.check(be(b,c)),a.max=(b,c)=>a.check(be(b,c)),a.int=b=>a.check(bT(b)),a.safe=b=>a.check(bT(b)),a.positive=b=>a.check(bf(0,b)),a.nonnegative=b=>a.check(bg(0,b)),a.negative=b=>a.check(bd(0,b)),a.nonpositive=b=>a.check(be(0,b)),a.multipleOf=(b,c)=>a.check(bh(b,c)),a.step=(b,c)=>a.check(bh(b,c)),a.finite=()=>a;let c=a._zod.bag;a.minValue=Math.max(c.minimum??-1/0,c.exclusiveMinimum??-1/0)??null,a.maxValue=Math.min(c.maximum??1/0,c.exclusiveMaximum??1/0)??null,a.isInt=(c.format??"").includes("int")||Number.isSafeInteger(c.multipleOf??.5),a.isFinite=!0,a.format=c.format??null});function bR(a){return new bQ({type:"number",checks:[],...F.A2(a)})}let bS=d.xI("ZodNumberFormat",(a,b)=>{aA.init(a,b),bQ.init(a,b)});function bT(a){return new bS({type:"number",check:"number_format",abort:!1,format:"safeint",...F.A2(a)})}let bU=d.xI("ZodBoolean",(a,b)=>{aB.init(a,b),br.init(a,b)});function bV(a){return new bU({type:"boolean",...F.A2(a)})}let bW=d.xI("ZodNull",(a,b)=>{aC.init(a,b),br.init(a,b)});function bX(a){return new bW({type:"null",...F.A2(a)})}let bY=d.xI("ZodAny",(a,b)=>{aD.init(a,b),br.init(a,b)});function bZ(){return new bY({type:"any"})}let b$=d.xI("ZodUnknown",(a,b)=>{aE.init(a,b),br.init(a,b)});function b_(){return new b$({type:"unknown"})}let b0=d.xI("ZodNever",(a,b)=>{aF.init(a,b),br.init(a,b)});function b1(a){return new b0({type:"never",...F.A2(a)})}let b2=d.xI("ZodArray",(a,b)=>{aH.init(a,b),br.init(a,b),a.element=b.element,a.min=(b,c)=>a.check(bj(b,c)),a.nonempty=b=>a.check(bj(1,b)),a.max=(b,c)=>a.check(bi(b,c)),a.length=(b,c)=>a.check(bk(b,c)),a.unwrap=()=>a.element});function b3(a,b){return new b2({type:"array",element:a,...F.A2(b)})}let b4=d.xI("ZodObject",(a,b)=>{aM.init(a,b),br.init(a,b),F.gJ(a,"shape",()=>b.shape),a.keyof=()=>cg(Object.keys(a._zod.def.shape)),a.catchall=b=>a.clone({...a._zod.def,catchall:b}),a.passthrough=()=>a.clone({...a._zod.def,catchall:b_()}),a.loose=()=>a.clone({...a._zod.def,catchall:b_()}),a.strict=()=>a.clone({...a._zod.def,catchall:b1()}),a.strip=()=>a.clone({...a._zod.def,catchall:void 0}),a.extend=b=>F.X$(a,b),a.safeExtend=b=>F.W0(a,b),a.merge=b=>F.h1(a,b),a.pick=b=>F.Up(a,b),a.omit=b=>F.cJ(a,b),a.partial=(...b)=>F.OH(ck,a,b[0]),a.required=(...b)=>F.mw(cq,a,b[0])});function b5(a,b){return new b4({type:"object",get shape(){return F.Vy(this,"shape",a?F.ZV(a):{}),this.shape},...F.A2(b)})}function b6(a,b){return new b4({type:"object",get shape(){return F.Vy(this,"shape",F.ZV(a)),this.shape},catchall:b1(),...F.A2(b)})}function b7(a,b){return new b4({type:"object",get shape(){return F.Vy(this,"shape",F.ZV(a)),this.shape},catchall:b_(),...F.A2(b)})}let b8=d.xI("ZodUnion",(a,b)=>{aO.init(a,b),br.init(a,b),a.options=b.options});function b9(a,b){return new b8({type:"union",options:a,...F.A2(b)})}let ca=d.xI("ZodDiscriminatedUnion",(a,b)=>{b8.init(a,b),aP.init(a,b)});function cb(a,b,c){return new ca({type:"union",options:b,discriminator:a,...F.A2(c)})}let cc=d.xI("ZodIntersection",(a,b)=>{aQ.init(a,b),br.init(a,b)}),cd=d.xI("ZodRecord",(a,b)=>{aS.init(a,b),br.init(a,b),a.keyType=b.keyType,a.valueType=b.valueType});function ce(a,b,c){return new cd({type:"record",keyType:a,valueType:b,...F.A2(c)})}let cf=d.xI("ZodEnum",(a,b)=>{aT.init(a,b),br.init(a,b),a.enum=b.entries,a.options=Object.values(b.entries);let c=new Set(Object.keys(b.entries));a.extract=(a,d)=>{let e={};for(let d of a)if(c.has(d))e[d]=b.entries[d];else throw Error(`Key ${d} not found in enum`);return new cf({...b,checks:[],...F.A2(d),entries:e})},a.exclude=(a,d)=>{let e={...b.entries};for(let b of a)if(c.has(b))delete e[b];else throw Error(`Key ${b} not found in enum`);return new cf({...b,checks:[],...F.A2(d),entries:e})}});function cg(a,b){return new cf({type:"enum",entries:Array.isArray(a)?Object.fromEntries(a.map(a=>[a,a])):a,...F.A2(b)})}let ch=d.xI("ZodLiteral",(a,b)=>{aU.init(a,b),br.init(a,b),a.values=new Set(b.values),Object.defineProperty(a,"value",{get(){if(b.values.length>1)throw Error("This schema contains multiple valid literal values. Use `.values` instead.");return b.values[0]}})});function ci(a,b){return new ch({type:"literal",values:Array.isArray(a)?a:[a],...F.A2(b)})}let cj=d.xI("ZodTransform",(a,b)=>{aV.init(a,b),br.init(a,b),a._zod.parse=(c,e)=>{if("backward"===e.direction)throw new d.cV(a.constructor.name);c.addIssue=d=>{"string"==typeof d?c.issues.push(F.sn(d,c.value,b)):(d.fatal&&(d.continue=!1),d.code??(d.code="custom"),d.input??(d.input=c.value),d.inst??(d.inst=a),c.issues.push(F.sn(d)))};let f=b.transform(c.value,c);return f instanceof Promise?f.then(a=>(c.value=a,c)):(c.value=f,c)}}),ck=d.xI("ZodOptional",(a,b)=>{aX.init(a,b),br.init(a,b),a.unwrap=()=>a._zod.def.innerType});function cl(a){return new ck({type:"optional",innerType:a})}let cm=d.xI("ZodNullable",(a,b)=>{aY.init(a,b),br.init(a,b),a.unwrap=()=>a._zod.def.innerType});function cn(a){return new cm({type:"nullable",innerType:a})}let co=d.xI("ZodDefault",(a,b)=>{aZ.init(a,b),br.init(a,b),a.unwrap=()=>a._zod.def.innerType,a.removeDefault=a.unwrap}),cp=d.xI("ZodPrefault",(a,b)=>{a_.init(a,b),br.init(a,b),a.unwrap=()=>a._zod.def.innerType}),cq=d.xI("ZodNonOptional",(a,b)=>{a0.init(a,b),br.init(a,b),a.unwrap=()=>a._zod.def.innerType}),cr=d.xI("ZodCatch",(a,b)=>{a2.init(a,b),br.init(a,b),a.unwrap=()=>a._zod.def.innerType,a.removeCatch=a.unwrap}),cs=d.xI("ZodPipe",(a,b)=>{a3.init(a,b),br.init(a,b),a.in=b.in,a.out=b.out});function ct(a,b){return new cs({type:"pipe",in:a,out:b})}let cu=d.xI("ZodReadonly",(a,b)=>{a5.init(a,b),br.init(a,b),a.unwrap=()=>a._zod.def.innerType}),cv=d.xI("ZodLazy",(a,b)=>{a7.init(a,b),br.init(a,b),a.unwrap=()=>a._zod.def.getter()});function cw(a){return new cv({type:"lazy",getter:a})}let cx=d.xI("ZodCustom",(a,b)=>{a8.init(a,b),br.init(a,b)});function cy(a,b){let c=F.A2(b);return c.abort??(c.abort=!0),new cx({type:"custom",check:"custom",fn:a??(()=>!0),...c})}function cz(a,b={error:`Input not instance of ${a.name}`}){let c=new cx({type:"custom",check:"custom",fn:b=>b instanceof a,abort:!0,...F.A2(b)});return c._zod.bag.Class=a,c}}};